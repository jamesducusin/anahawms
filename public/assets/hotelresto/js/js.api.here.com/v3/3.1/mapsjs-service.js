
/**
 * The code below uses open source software. Please visit the URL below for an overview of the licenses:
 * http://js.api.here.com/v3/3.1.46.0/HERE_NOTICE
 */

H.util.eval("S.prototype.J=ca(3,function(a){var b=this.getCache(),c=this;if(a!==z){C(a,Rk,S.prototype.J,0);var d=a}else d=yl;d!==b&&b.na(function(e,f,g){return c.ub(e)?(d.add(e,f,g),!0):!1});this.P=d});ti.prototype.a=ca(2,function(a){this.f=a;a=this.getState();a!==Xh.INIT&&a!==Xh.LOADING&&Ai(this)});function xp(a){a=a.uc(\"_#-;,:\",\"_#-;,:\",\"_#-;,:\");return new RegExp(\"^\"+a.replace(/[.*+?^${}()|[\\]\\\\\\/]/g,\"\\\\$&\").replace(/_#-;,:/g,\"\\\\d+\")+\"$\")}function yp(a,b){Ya.apply(null,arguments);return a}\nfunction zp(a,b){var c=x.console;c&&c.warn&&(a=yc(a)+\" is deprecated and will be removed soon. \",b&&(a+=b),c.warn(a))}var Ap=globalThis;tc(\"monospace serif\");function Bp(){}Bp.prototype.pop=function(a){this[a]||(this[a]=[]);return this[a].pop()||document.createElement(\"canvas\")};Bp.prototype.push=function(a,b){this[b]||(this[b]=[]);this[b].push(a)};var Cp=new Bp;t(\"H.service.util.eval\",function(a){return eval(a)});function W(a,b,c,d,e,f){if(a&&b)this.Bi(a),this.af(b),this.wd(c),this.xi(e),this.Lk(f),this.bf(d);else throw new D(W,B,'Parameters \"scheme\" and \"host\" must be specified');}t(\"H.service.Url\",W);\nfunction Dp(a,b){var c=x.document,d;var e=\"\";if(c){e=c.createElement(\"a\");if(b){var f=(d=c.getElementsByTagName(\"base\")[0])&&d.href;var g=c.head;var h=d||g.appendChild(c.createElement(\"base\"));h.href=b}e.href=a;e=e.href;b&&(d?d.href=f:g.removeChild(h))}else/[\\w]+:\\/\\//.test(a)&&(e=a);f=/(?:(\\w+):\\/\\/)?(?:([^:]+):([^@/]*)@)?([^/:]+)?(?:[:]{1}([0-9]+))?(\\/[^?#]*)?(\\?[^#]+)?(#.*)?/.exec(e);a=f[1];g=f[4];b=f[5];h=f[6];c=f[7];d=f[8];!f[2]&&g&&/@/.test(g)&&(g=g.split(\"@\")[1]);f=W;h=h&&0<h.length?h.substr(1):\n\"\";e={};var k,l;if(c)for(k=/([?&]?([^=&+]+))(=([^&]+))?/g;l=k.exec(c);)e[decodeURIComponent(l[2])]=l[4]?decodeURIComponent(l[4]):void 0;return new f(a,g,h,e,isNaN(+b)?void 0:+b,d&&0<d.length?d.substr(1):\"\")}W.parse=Dp;W.prototype.clone=function(){var a={},b;for(b in this.a)a[b]=this.a[b];return new W(this.i,this.c,this.b,a,this.g,this.f)};W.prototype.clone=W.prototype.clone;\nW.prototype.Bi=function(a){if(!a||\"string\"!==typeof a)throw new D(this.Bi,0,'The \"scheme\" parameter must be a non-empty string.');this.i=a;return this};W.prototype.setScheme=W.prototype.Bi;W.prototype.Vm=function(){return this.i};W.prototype.getScheme=W.prototype.Vm;W.prototype.af=function(a){if(!a||\"string\"!==typeof a||\"-\"===a.charAt(0)||\".\"===a.charAt(0)||\".\"===a.charAt(a.length-1))throw new D(this.af,0,'The \"host\" parameter is not a valid host name.');this.c=a;return this};\nW.prototype.setHost=W.prototype.af;W.prototype.om=function(){return this.c};W.prototype.getHost=W.prototype.om;W.prototype.wd=function(a){this.b=a||void 0;return this};W.prototype.setPath=W.prototype.wd;W.prototype.Hm=function(){return this.b};W.prototype.getPath=W.prototype.Hm;W.prototype.bf=function(a){if(a)if(\"object\"==typeof a)this.a=a;else throw new D(this.bf,0,'Parameter \"params\" must be an object.');else this.a={};return this};W.prototype.setQuery=W.prototype.bf;W.prototype.Mj=function(){return!Ep(this)};\nW.prototype.hasQuery=W.prototype.Mj;W.prototype.getQuery=function(){return this.a};W.prototype.getQuery=W.prototype.getQuery;W.prototype.xi=function(a){if(void 0===a)this.g=a;else{var b=ae(+a<<0,0,65535);if(b!=a)throw new D(this.xi,0,'Parameter \"port\" must be an integer in range [0...65535]');this.g=b}return this};W.prototype.setPort=W.prototype.xi;W.prototype.Mm=function(){return this.g};W.prototype.getPort=W.prototype.Mm;W.prototype.Lk=function(a){this.f=a||void 0;return this};\nW.prototype.setAnchor=W.prototype.Lk;W.prototype.kd=function(){return this.f};W.prototype.getAnchor=W.prototype.kd;W.prototype.I=function(a){if(\"object\"!==typeof a)throw new D(this.I,0,'Parameter \"other\" must be an object.');var b=this.a,c;for(c in a)a.hasOwnProperty(c)&&\"function\"!==typeof a[c]&&(b[c]=a[c]);return this};W.prototype.mergeQuery=W.prototype.I;\nW.prototype.Ba=function(a){if(!a||\"string\"!==typeof a)throw new D(this.Ba,0,'Parameter \"subDomain\" must be a non-empty string');\".\"===a.substr(a.length-1)&&(a=a.substr(0,a.length-1));return this.af(a+\".\"+this.c)};W.prototype.addSubDomain=W.prototype.Ba;W.prototype.G=function(a){if(!a||\"string\"!==typeof a)throw new D(this.G,0,'Parameter \"subPath\" must be a non-empty string');return this.wd((this.b?this.b+\"/\":\"\")+a)};W.prototype.addSubPath=W.prototype.G;\nW.prototype.toString=function(){return[this.i+\"://\",this.c,this.g?\":\"+this.g:\"\",this.b||!Ep(this)||this.f?\"/\":\"\",this.b?encodeURI(this.b):\"\",Fp(this),this.f?\"#\"+encodeURIComponent(this.f):\"\"].join(\"\")};W.prototype.toString=W.prototype.toString;function Gp(a){return encodeURIComponent(a).replace(/[!'()*]/g,function(b){return\"%\"+b.charCodeAt(0).toString(16)})}\nfunction Fp(a){var b=[],c=a.a,d={},e;for(e in c){if(c.hasOwnProperty(e)&&\"function\"!==typeof c[e]){var f=a.a[e];d.yd=Gp(e);C(f,Hp)?f.a.forEach(function(g){return function(h){b.push(g.yd+\"=\"+Gp(h))}}(d)):C(f,Ip)?b.push(d.yd+\"=\"+f.b.map(function(g){return Gp(g)}).join(f.a)):b.push(void 0===f?d.yd:d.yd+\"=\"+Gp(f))}d={yd:d.yd}}return 0<b.length?\"?\"+b.join(\"&\"):\"\"}\nfunction Jp(a){var b=Hf(\"H-service\",\"1.46.0\",\"55018bf\",{region:\"row\"});a.a.xnlp=\"CL_JSMv3.\"+b.version;return a}function Ep(a){var b,c=0;for(b in a.a)if(a.a.hasOwnProperty(b)&&\"function\"!==typeof a.a[b]&&(c++,0<c))break;return!c}function Kp(a,b){if(Bc(a))for(var c=0;c<a.length;c++){var d=a[c];if(!Cc(d)&&!Fc(d)){var e=\"The Array does not contain only strings and numbers\";break}}else e=\"Not an Array\";if(e)throw new D(b,0,a);return a}function Hp(a){this.a=Kp(a,Hp)}\nW.MultiValueQueryParameter=Hp;Hp.prototype.fn=function(){return this.a};Hp.prototype.getValues=Hp.prototype.fn;function Ip(a,b){this.b=Kp(a,Ip);if(!/^[!\\$\\(\\)\\*\\+,;]$/.test(b))throw new D(Ip,1,'Invalid delimiter \"'+b+'\"');this.a=b}W.DelimitedQuerySubValues=Ip;function Lp(a,b){C(a,Mp,Lp,0);var c={};Object.assign(c,b);c.min=c.min||0;c.max=c.max||20;c.tileSize=c.tileSize||512;c.getURL=function(d,e,f){return a.v().clone().G(a.b.og+\"/\"+(a.b.eg+\"/\")+(f+\"/\"+d+\"/\"+e+\"/\")+a.b.format).I(a.f).clone().I({size:c.tileSize})};Ek.call(this,c);this.i=a}u(Lp,Ek);t(\"H.service.rasterTile.Provider\",Lp);Lp.prototype.ba=function(a,b){var c=this.i;return Np(c.ba(),c.b.og+\".\"+c.V(),b,a)};Lp.prototype.getCopyrights=Lp.prototype.ba;Lp.prototype.l=function(){return od()};\nLp.prototype.c=function(){return od()?nd():Lp.j.c.call(this)};function X(a){a=yp({},this.b,a);var b=a.apikey||a.apiKey,c=a.baseUrl;if(c=b?c?0:\"baseUrl\":\"apikey\")throw new D(X,0,'\"'+c+'\" must be specified');this.Nk(a.baseUrl);this.a=b;this.Yb.I({apikey:b});this.c=a.headers||{};this.f=Wa(a.servicesConfig||{})}t(\"H.service.Platform\",X);X.prototype.b={apikey:null,baseUrl:new W(\"https\",\"hereapi\"+(Mn?\".cn\":\".com\"))};X.prototype.Nk=function(a){this.Yb=Jp(a.clone());this.a=a=this.a;this.Yb.I({apikey:a})};X.prototype.setBaseUrl=X.prototype.Nk;X.prototype.Ib=function(){return this.Yb};\nX.prototype.getBaseUrl=X.prototype.Ib;X.prototype.Ma=function(a,b){try{return a.Qf=!0,new a(yp({platformBaseUrl:this.Ib(),headers:this.c},this.f[a.CONFIG_KEY]||{},b||{}))}finally{a.Qf=!1}};X.prototype.createService=X.prototype.Ma;\nX.prototype.xf=function(a,b,c){var d=this;if(!H.map.render.harp)throw Error(\"HARP engine module not found\");if(!Ea(a)&&!Cc(a))throw new D(this.xf,0,\"is invalid: must be either a configuration object or a URL\");if(!Da(b))throw new D(this.xf,1,\"is invalid: must be a Function\");if(!Da(c))throw new D(this.xf,2,\"is invalid: must be a Function\");var e=new H.map.render.harp.Style(a);e.addEventListener(\"change\",function(){var f=e.getState();if(-1===f)c(Error(\"H.service.platform#createHybridLayers method failed to load style configuration\"));\nelse if(2===f){f={dark:!0};var g=d.lh({resource:\"background\",queryParams:{style:\"satellite.day\"}}),h=e.qc(),k={styles:[{technique:\"raster\",attr:{gamma:1,brightness:1}}]};h.definitions&&(void 0!==h.definitions[\"Satellite.Texture.Gamma\"]&&(k.styles[0].attr.gamma=h.definitions[\"Satellite.Texture.Gamma\"]),void 0!==h.definitions[\"Satellite.Texture.Brightness\"]&&(k.styles[0].attr.brightness=h.definitions[\"Satellite.Texture.Brightness\"]));g=new Lp(g,{engineType:Qn,style:new H.map.render.harp.Style(k)});\nb({raster:new sl(g,f),vector:d.He().$b(e,{engineType:Qn},f),traffic:d.oh().$b(e,{engineType:Qn},f)})}});e.load()};X.prototype.createHybridLayers=X.prototype.xf;X.prototype.wf=function(a,b,c,d,e,f){function g(rb,Fa,bc){Fa=rb.f(Fa);Fa=r?new ti(Fa):new H.map.render.harp.Style(Fa);var ad={engineType:l};n&&n.politicalView&&(ad.politicalView=n.politicalView);c&&(ad.lg=c);d&&(ad.lg2=d);f&&(ad.pois=f);var wc;bc&&(wc={dark:bc});return rb.$b(Fa,ad,wc)}function h(rb,Fa,bc,ad,wc){return rb.nc(Fa,bc,v,ad,w,1,wc,m)}var k=this,l=jk,m={crossOrigin:\"anonymous\"};if(Ea(a)){var n=a;\"crossOrigin\"in n&&(m.crossOrigin=n.crossOrigin);a=n.tileSize;b=n.ppi;c=n.lg;d=n.lg2;e=n.style;\nf=n.pois;void 0!==n.engineType&&(l=n.engineType,m.engineType=l)}var q=l===kk.HARP,r=l===kk.WEBGL,v=a||512,w={};if(0>[72,250,320,500].indexOf(+b)){if(b!==B)throw new D(this.wf,1,b);}else w.ppi=+b;c&&(w.lg=c);d&&(w.lg2=d);e&&(w.style=e);f&&(w.pois=!!f);if(q&&!H.map.render.harp)throw new D(this.wf,0,\"HARP engine is not supported, module not found\");a={};if(Mn)yp(a,{vector:{normal:{map:g(this.He(),\"harp/oslo/normal.day.json\")}}});else{e=this.ih();var y=this.ih({type:\"aerial\"}),G=this.nh(),I=G.ej(w.lg?\n{lg:w.lg,i18n:!0,engineType:l}:{engineType:l});yp(a,{raster:{normal:{xbase:h(e,\"xbasetile\",\"normal.day\",\"png8\",!1),xbasenight:h(e,\"xbasetile\",\"normal.night\",\"png8\",!0),base:h(e,\"basetile\",\"normal.day\",\"png8\",!1),basenight:h(e,\"basetile\",\"normal.night\",\"png8\",!0),map:h(e,\"maptile\",\"normal.day\",\"png8\",!1),mapnight:h(e,\"maptile\",\"normal.night\",\"png8\",!0),trafficincidents:I,transit:h(e,\"maptile\",\"normal.day.transit\",\"png8\",!1),labels:h(e,\"labeltile\",\"normal.day\",\"png\",!1)},satellite:{xbase:h(y,\"xbasetile\",\n\"hybrid.day\",\"jpg\",!0),base:h(y,\"basetile\",\"hybrid.day\",\"jpg\",!0),map:h(y,\"maptile\",\"hybrid.day\",\"jpg\",!0),labels:h(y,\"labeltile\",\"hybrid.day\",\"png\",!0)},terrain:{xbase:h(y,\"xbasetile\",\"terrain.day\",\"jpg\",!1),base:h(y,\"basetile\",\"terrain.day\",\"jpg\",!1),map:h(y,\"maptile\",\"terrain.day\",\"jpg\",!1),labels:h(y,\"labeltile\",\"terrain.day\",\"png\",!1)}}});if(q||r){yp(a,{vector:{normal:{traffic:G.dj(void 0,l),trafficincidents:I}}});e=this.He();r?(a.vector.normal.map=g(e,\"omv/miami/normal.day.yaml\"),a.vector.normal.truck=\ng(e,\"omv/miami/truck.day.yaml\")):q&&(a.vector.normal.map=g(e,\"harp/oslo/normal.day.json\"),a.vector.normal.truck=g(e,\"harp/oslo/normal.day.json\"));e=this.oh();if(q){var Q={ppi:72<b?400:100,size:256<v?512:256,features:\"pois:\"+(!0===f||Cc(f)&&/[^0]/.test(f)?\"all\":\"disabled\")};c&&(Q.lang=c);d&&(Q.lang2=d);n&&n.politicalView&&(Q.pview=n.politicalView);b={dark:!0};y=function(rb,Fa,bc,ad,wc){var Jb=yp({},Q);/^explore\\./.test(bc)||delete Jb.features;rb=k.lh({format:Fa,resource:rb,queryParams:yp({style:bc},\nJb)});wc=new Lp(rb,{engineType:l,style:wc});return new sl(wc,ad)};yp(a.raster.normal,{base:y(\"background\",\"png8\",\"explore.day\"),basenight:y(\"background\",\"png8\",\"explore.night\",b),map:y(\"base\",\"png8\",\"explore.day\"),mapnight:y(\"base\",\"png8\",\"explore.night\",b),labels:y(\"label\",\"png\",\"explore.day\")});yp(a.raster.satellite,{xbase:y(\"background\",\"jpeg\",\"satellite.day\",b),base:y(\"background\",\"jpeg\",\"explore.satellite.day\",b),map:y(\"base\",\"jpeg\",\"explore.satellite.day\",b),labels:y(\"label\",\"png\",\"explore.satellite.day\")});\nG=this.He();yp(a.vector.normal,{mapnight:g(G,\"harp/oslo/normal.night.json\",!0),lite:g(G,\"harp/oslo/lite.day.json\"),litenight:g(G,\"harp/oslo/lite.night.json\",!0),ism:g(G,\"harp/oslo/ism.day.json\"),ismnight:g(G,\"harp/oslo/ism.night.json\",!0)});I={styles:[{technique:\"raster\",attr:{gamma:[\"interpolate\",[\"linear\"],[\"zoom\"],0,1,13,1.2,17,1.3],brightness:[\"interpolate\",[\"linear\"],[\"zoom\"],0,.7,13,.9,17,1]}}]};for(var V=[],Ba=0;4>Ba;Ba++){var ha=new H.map.render.harp.Style(JSON.parse(JSON.stringify(I)));ha=\ny(\"background\",\"jpeg\",\"satellite.day\",b,ha);V.push(ha)}a.hybrid={day:{raster:V[0],vector:g(G,\"harp/oslo/hybrid.day.json\",!0),traffic:g(e,\"harp/oslo/hybrid.day.json\",!0)},night:{raster:V[1],vector:g(G,\"harp/oslo/hybrid.night.json\",!0),traffic:g(e,\"harp/oslo/hybrid.night.json\",!0)},liteday:{raster:V[2],vector:g(G,\"harp/oslo/lite.hybrid.day.json\",!0),traffic:g(e,\"harp/oslo/lite.hybrid.day.json\",!0)},litenight:{raster:V[3],vector:g(G,\"harp/oslo/lite.hybrid.night.json\",!0),traffic:g(e,\"harp/oslo/lite.hybrid.night.json\",\n!0)}}}b={traffic:{}};b.traffic.map=g(e,r?\"traffic/vector.tile.yaml\":\"harp/oslo/normal.day.json\");q&&(b.traffic.mapnight=g(e,\"harp/oslo/normal.night.json\"),b.traffic.lite=g(e,\"harp/oslo/lite.day.json\"),b.traffic.litenight=g(e,\"harp/oslo/lite.night.json\"));yp(a.vector,b)}}return a};X.prototype.createDefaultLayers=X.prototype.wf;function Op(a,b){b=void 0===b?{}:b;if(!a.Qf)throw new $c(a);Op.j.constructor.call(this);var c=Pp(this,b);if(!c.baseUrl&&!c.platformBaseUrl)throw new D(a,0,'either \"baseUrl\" or \"platformBaseUrl\" must be specified');this.i=(c.baseUrl?c.baseUrl:c.platformBaseUrl).clone();a=c.baseUrl?b:c;a.host&&this.i.af(a.host);a.subDomain&&this.i.Ba(a.subDomain);a.path&&this.i.wd(a.path);Jp(this.i);this.g=c.headers||{}}u(Op,F);t(\"H.service.Service\",Op);function Pp(a,b){a=a.Aa();return b?yp({},a,b):a}\nOp.prototype.Aa=function(){return{}};Op.prototype.v=function(){return this.i};Op.prototype.getUrl=Op.prototype.v;Op.prototype.B=function(a,b,c,d){d=new tf(void 0===d?\"application/json\":d,a.toString(),je,{headers:this.g});d.then(b,Qp(this,a,c));return d};function Qp(a,b,c){return function(d){return\"function\"!==typeof d.json?Promise.reject(c(Rp(b,d))):d.json().then(function(e){return c(a.a(e))},function(){return c(Rp(b,d))})}}Op.prototype.a=function(a){return Error(a.message)};\nfunction Rp(a,b){return Error((b.statusText?\"[\"+b.statusText+\"] \":\"\")+a+\" request failed\")};function Sp(a){Sp.j.constructor.call(this,Sp,a)}u(Sp,Op);t(\"H.service.traffic.Service7\",Sp);Sp.prototype.Aa=function(){return{subDomain:\"data.traffic\",path:\"v7\"}};Sp.CONFIG_KEY=\"traffic_v7\";Sp.prototype.qo=function(a,b,c,d){a=this.v().clone().G([\"incidents\",a].join(\"/\")).I(b||{});return this.B(a,c,d)};Sp.prototype.requestIncidentById=Sp.prototype.qo;Sp.prototype.oo=function(a,b,c){a=this.v().clone().G(\"flow\").I(a||{});return this.B(a,b,c)};Sp.prototype.requestFlowByArea=Sp.prototype.oo;\nSp.prototype.so=function(a,b,c){a=this.v().clone().G(\"incidents\").I(a||{});return this.B(a,b,c)};Sp.prototype.requestIncidentsByArea=Sp.prototype.so;function Tp(a){if(!a||!Da(a.requestData))throw new D(Tp,0,\"options.requestData\");Tp.j.constructor.call(this,a);this.L=a.requestData;this.D=!!a.providesDomMarkers}u(Tp,S);t(\"H.map.provider.MarkerTileProvider\",Tp);Tp.prototype.B=function(a,b,c,d,e){var f=this;return this.L(a,b,c,function(g){for(var h=[],k,l,m=g.length;m--;)l=g[m],l.Ho=f.getTileKey(a,b,c),l.ka(f),k=l.xb(),(C(l,bj)||1===k.getState())&&h.push(g[m]);d(h)},e)};Tp.prototype.requestInternal=Tp.prototype.B;\nTp.prototype.Td=function(a,b){b===kh.VISUAL&&(a=this.nb().get(a.Ho))&&(a.valid=!1,this.Va(a))};Tp.prototype.invalidateObject=Tp.prototype.Td;Tp.prototype.Qb=function(){return this.D};Tp.prototype.providesDomMarkers=Tp.prototype.Qb;Tp.prototype.Rb=ff;Tp.prototype.providesMarkers=Tp.prototype.Rb;function Up(){this.a={}}Up.prototype.xb=function(a,b){var c=a+b,d;if(d=this.a[c])return d;a=Vp.MARKER.replace(\"{{icon}}\",Wp[a]||Wp.OTHER);a=a.replace(\"{{color}}\",Xp[b]||Xp.BLOCKING);b={size:{w:26,h:33},anchor:{x:13,y:30},hitArea:new Xi(Yi.POLYGON,Yp.MARKER)};return this.a[c]=d=new Wj(a,b)};\nvar Vp={MARKER:'<svg width=\"26\" height=\"33\" enable-background=\"new 0 0 26 33\" viewBox=\"0 0 26 33\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"m26 33h-26v-33h26z\" fill=\"#8c8c8c\" opacity=\"0\"/><path d=\"m17 29.566c0 1.116-1.791 2.022-4 2.022s-4-.906-4-2.022c0-1.118 1.791-2.026 4-2.026s4 .908 4 2.026\" fill=\"#878787\" opacity=\".6\"/><path d=\"m1.795 17.971c-1.562-1.555-1.574-3.828-.028-5.655l8.343-10.021c.769-.895 1.795-1.384 2.894-1.384 1.117 0 2.197.521 2.889 1.394l8.338 10.014c1.588 1.854 1.578 4.022-.029 5.65l-11.202 11.202z\" fill=\"{{color}}\"/>{{icon}}</svg>'},Wp=\n{CONGESTION:'<path style=\"fill:#FFFFFF;\" d=\"M12.966,1.177c0.965,0,1.894,0.442,2.496,1.204l8.378,10.258c1.362,1.592,1.482,3.477,0,4.979L12.994,28.464L2.143,17.618c-1.381-1.375-1.38-3.348,0-4.979l8.314-10.258C11.174,1.547,12.085,1.177,12.966,1.177 M12.967,0.177L12.967,0.177c-1.247,0-2.408,0.551-3.269,1.552l-8.332,10.28c-1.711,2.022-1.688,4.567,0.07,6.317l10.85,10.845l0.707,0.707l0.707-0.707l10.847-10.846c1.784-1.807,1.803-4.292,0.053-6.337L16.237,1.748C15.462,0.769,14.236,0.177,12.967,0.177L12.967,0.177z M16.645,10.405l-2.025-2.22c-0.48-0.51-1.15-0.8-1.84-0.8H9.53c-0.69,0-1.36,0.29-1.84,0.8l-1.94,2.22c-0.39,0.63-0.59,1.35-0.59,2.09v1.64c0,0.69,0.56,1.25,1.25,1.25h1.44l0.255-0.539c0.204-0.431,0.456-0.837,0.753-1.21l0.962-1.211l0.83-0.9c0.32-0.35,0.72-0.63,1.15-0.82H8.23c-0.28,0-0.55-0.07-0.79-0.22l-0.28-0.17l1.27-1.45c0.28-0.31,0.68-0.48,1.1-0.48h3.25c0.42,0,0.82,0.17,1.1,0.48l1.354,1.54H16.645z M18.31,12.205c-0.35-0.37-0.81-0.63-1.3-0.74c-0.18-0.04-0.36-0.06-0.54-0.06h-3.24c-0.7,0-1.37,0.29-1.84,0.8l-1.13,1.22l-0.82,1c-0.38,0.63-0.59,1.35-0.59,2.09v1.64c0,0.69,0.56,1.25,1.25,1.25h1.75v-1h5.99v1h1.75c0.69,0,1.25-0.56,1.25-1.25v-1.64c0-0.74-0.2-1.46-0.59-2.09L18.31,12.205z M12.1,17.105h-1c-0.138,0-0.25-0.112-0.25-0.25v-1c0-0.138,0.112-0.25,0.25-0.25h1c0.138,0,0.25,0.112,0.25,0.25v1C12.35,16.993,12.238,17.105,12.1,17.105z M18.59,17.105h-1c-0.138,0-0.25-0.112-0.25-0.25v-1c0-0.138,0.112-0.25,0.25-0.25h1c0.138,0,0.25,0.112,0.25,0.25v1C18.84,16.993,18.728,17.105,18.59,17.105z M18.56,14.505c-0.24,0.15-0.51,0.22-0.79,0.22h-5.85c-0.28,0-0.55-0.07-0.78-0.22l-0.29-0.17l1.27-1.45c0.15-0.16,0.33-0.28,0.53-0.37c0.18-0.07,0.38-0.11,0.58-0.11h3.24c0.24,0,0.48,0.06,0.68,0.16c0.16,0.08,0.3,0.19,0.42,0.32l1.27,1.45L18.56,14.505z M8.42,13.03h-1c-0.138,0-0.25-0.112-0.25-0.25v-1c0-0.138,0.112-0.25,0.25-0.25h1c0.138,0,0.25,0.112,0.25,0.25v1C8.67,12.918,8.559,13.03,8.42,13.03z\"/>',\nROADWORKS:'<path d=\"m13.004 1.411c.964 0 1.894.441 2.496 1.204l8.346 10.023c1.363 1.592 1.482 3.477 0 4.979l-10.846 10.847-10.852-10.846c-1.381-1.375-1.379-3.348 0-4.979l8.346-10.023c.717-.835 1.628-1.205 2.51-1.205m0-1c-1.248 0-2.408.551-3.268 1.552l-8.356 10.035c-1.718 2.033-1.695 4.578.064 6.328l10.85 10.845.706.707.707-.707 10.846-10.846c1.784-1.808 1.803-4.293.053-6.337l-8.337-10.012c-.769-.973-1.996-1.565-3.265-1.565zm-.575 15.264c.018-.332-.13-.651-.394-.851l-2.945-2.235-.21.36c-.22.39-.41.78-.58 1.19l-.677 2.129-1.364 3.051h1.314l2.109-4.672 1.317 1.212.138 3.46h1.092zm6.16-1.327c-.401-.54-1.209-.539-1.609.001l-1.17 1.58-2.29-1.74-.139-4.054c-.011-.276-.134-.535-.342-.716l-.7-.61c-.185-.161-.422-.25-.667-.25h-1.885c-.335 0-.648.168-.833.447l-1.144 1.723 7.58 5.76-1.86 2.51c-.098.132-.004.32.161.32h6.648l1.142-1.077zm-8.79-2.989-.876-.665.841-1.018.965.043zm1.63 1.24.969-1.781.118 2.61zm2.76-5.79c-.64 0-1.16.52-1.16 1.16 0 .65.52 1.17 1.16 1.17s1.16-.52 1.16-1.17c0-.64-.52-1.16-1.16-1.16z\" fill=\"#fff\"/>',\nACCIDENT:'<path style=\"fill:#FFFFFF;\" d=\"M12.998,1.091c0.964,0,1.894,0.442,2.496,1.204l8.346,10.344c1.363,1.592,1.482,3.477,0,4.979L12.994,28.465L2.143,17.618c-1.381-1.375-1.379-3.348,0-4.979l8.346-10.344C11.205,1.462,12.115,1.091,12.998,1.091 M12.998,0.091L12.998,0.091c-1.248,0-2.408,0.551-3.269,1.552L1.364,12.011c-1.708,2.021-1.685,4.566,0.073,6.316l10.85,10.845l0.707,0.707l0.707-0.707l10.846-10.846c1.784-1.808,1.803-4.293,0.053-6.337l-8.327-10.32C15.494,0.684,14.268,0.091,12.998,0.091L12.998,0.091z M7.83,18.982l-3.309-1.855l0.945,1.855H7.83z M16.111,19h3.942l1.596-2L16.111,19z M10.512,20.064l1.021-1.021l1.632,0.076c0.329,0.018,0.651-0.022,0.963-0.123c0.626-0.206,1.122-0.76,1.288-1.44l0.264-1.089l2.066-0.93c0.373-0.17,0.673-0.42,0.861-0.731c0.275-0.449,0.405-0.97,0.369-1.498L18.9,11.676l1.021-1.021l-0.724-0.724l-0.427,0.427l-0.121-0.364c-0.201-0.603-0.54-1.151-0.989-1.6l-1.159-1.159c-0.5-0.5-1.31-0.5-1.809,0l-1.267,1.267l0.724,0.724l-5.066,5.066l-0.724-0.724l-1.267,1.267c-0.5,0.5-0.5,1.31,0,1.809l1.159,1.159c0.449,0.449,0.997,0.788,1.6,0.989l0.364,0.121l-0.427,0.427L10.512,20.064z M14.901,10.349l0.732-0.732c0.098-0.098,0.256-0.098,0.354,0l0.732,0.732c0.098,0.098,0.098,0.256,0,0.354l-0.732,0.732c-0.098,0.098-0.256,0.098-0.354,0l-0.732-0.732C14.803,10.604,14.803,10.446,14.901,10.349z M9.472,15.777l0.732-0.732c0.098-0.098,0.256-0.098,0.354,0l0.732,0.732c0.098,0.098,0.098,0.256,0,0.354l-0.732,0.732c-0.098,0.098-0.256,0.098-0.354,0L9.472,16.13C9.375,16.033,9.375,15.874,9.472,15.777z M11.391,17.615c0.069-0.271,0.206-0.518,0.405-0.717l4.961-4.961c0.195-0.195,0.445-0.337,0.717-0.405l0.344-0.083l0.137,1.925c0.022,0.318-0.058,0.63-0.221,0.901c-0.101,0.166-0.279,0.271-0.409,0.329L14.8,15.74l-0.38,1.574c-0.083,0.344-0.318,0.615-0.612,0.713c-0.188,0.058-0.38,0.083-0.579,0.072l-1.925-0.138L11.391,17.615z\"/>',\nOTHER:'<path style=\"fill:#FFFFFF;\" d=\"M13.004,1.411c0.964,0,1.894,0.441,2.496,1.204l8.346,10.023c1.363,1.592,1.482,3.477,0,4.979L13,28.465L2.148,17.618c-1.381-1.375-1.379-3.348,0-4.979l8.346-10.023C11.211,1.781,12.122,1.411,13.004,1.411 M13.004,0.411L13.004,0.411c-1.248,0-2.408,0.551-3.268,1.552L1.38,11.998c-1.718,2.033-1.694,4.579,0.064,6.328l10.85,10.845L13,29.878l0.707-0.707l10.846-10.846c1.784-1.808,1.803-4.293,0.053-6.337L16.269,1.976C15.5,1.003,14.273,0.411,13.004,0.411L13.004,0.411z M14.716,20.139c0,0.947-0.758,1.724-1.724,1.724c-0.947,0-1.704-0.777-1.704-1.724c0-0.928,0.757-1.704,1.704-1.704C13.958,18.435,14.716,19.211,14.716,20.139z M14.204,16.33H11.78l-0.537-8.533h3.5L14.204,16.33z\"/>'},\nXp={BLOCKING:\"#323232\",VERYHIGH:\"#d5232f\",HIGH:\"#ffa100\"},Yp={MARKER:[24.1,17.8,14.2,28.42,16.8,29.4,12.8,31.4,8.79,29.4,11.23,28.42,1.7,17.8,1.7,12.1,10,1.9,12.9,.498,15.8,1.9,24.1,12.1,24.1,17.8]};function Zp(a,b,c){c=c?c:{};c.criticality||(c.criticality=\"major,critical\");C(a,$p,Zp,0);Tp.call(this,{max:20,min:8,requestData:A(this.T,this),engineType:c.engineType});this.f=new Up;this.u=a;this.i=c;this.reload=A(this.reload,this);this.m=setInterval(this.reload,b||18E4)}u(Zp,Tp);t(\"H.service.traffic.incidents.Provider\",Zp);var aq={minor:\"HIGH\",\"low impact\":\"HIGH\",major:\"VERYHIGH\",critical:\"BLOCKING\"};\nZp.prototype.T=function(a,b,c,d,e){var f=this,g=this.f;return this.u.requestIncidentsByTile(a,b,c,function(h){var k=[];h=h.TRAFFIC_ITEMS;var l;if(h)for(h=h.TRAFFIC_ITEM,l=h.length;l--;){var m=h[l];var n=m.TRAFFIC_ITEM_TYPE_DESC;switch(n){case \"ACCIDENT\":case \"CONGESTION\":var q=n;break;case \"CONSTRUCTION\":q=\"ROADWORKS\";break;default:q=\"OTHER\"}q=g.xb(q,aq[m.CRITICALITY.DESCRIPTION]);n=m.LOCATION.GEOLOC.ORIGIN;n=new Rn({lat:n.LATITUDE,lng:n.LONGITUDE},{provider:f,icon:q});n.setData(m);k.push(n)}d(k)},\ne,this.i)};Zp.prototype.F=function(){Tp.prototype.F.call(this);clearInterval(this.m)};Zp.prototype.dispose=Zp.prototype.F;var bq=\"A21 A22 F01 F02 F08 F04 F05 F07 F03 F06 A2F F13 A25 A2C F12 D1B F1B A27 E12 A3A A24 A3D A3F F1F F25 F2C E32 A33 F29 D26 D36 F26 D0F F0F F2B E0C D3A A45 D23 D11 F2E F19 F14 F39 A4A A4B A5C D38 F2A F1A D0A F1C A48 D25 D1D F32 A46 A3E D24 E1C E32 A5F D2E D22 D0A\".split(\" \");function cq(a,b,c,d){cq.j.constructor.call(this,{min:10,max:21,engineType:d});C(a,$p,cq,0);this.m=a;this.f=c||dq;this.f.responseattributes=\"sh,fc\";this.i=setInterval(A(this.reload,this),b||18E4);this.b===kk.WEBGL?this.Qa(new ti(Ao()+\"/traffic/flow.yaml\"),!0):this.Qa(new H.map.render.harp.Style({styles:[{when:[\"==\",[\"geometry-type\"],\"LineString\"],technique:\"solid-line\",renderOrder:10002,attr:{color:[\"case\",[\">=\",[\"get\",\"JF\"],10],\"black\",[\">=\",[\"get\",\"JF\"],8],\"red\",[\">=\",[\"get\",\"JF\"],4],\"yellow\",\"green\"],\nlineWidth:3,metricUnit:\"Pixel\"}}]}))}u(cq,S);t(\"H.service.traffic.flow.Provider\",cq);cq.prototype.ei=ff;cq.prototype.providesGeoJSON=cq.prototype.ei;cq.prototype.V=function(){return this.Ya()};cq.prototype.getStyle=cq.prototype.V;cq.prototype.gb=function(a){a.a&&a.a(\"GeoJSONTileSource\");this.Qa(a)};cq.prototype.setStyle=cq.prototype.gb;var dq={locationreferences:\"tmc,shp\"};cq.prototype.o=function(){cq.j.o.call(this);clearInterval(this.i)};\ncq.prototype.B=function(a,b,c,d,e){return this.m.requestFlowByTile(a,b,c,function(f){f.type&&-1!==f.type.indexOf(\"Error\")?e(f.Details):d(f)},e,this.f)};cq.prototype.requestInternal=cq.prototype.B;\ncq.prototype.ac=function(a,b,c,d,e){var f,g,h,k,l={type:\"FeatureCollection\",features:[]},m;var n=d.RWS.length;for(f=0;f<n;f++){var q=d.RWS[f];var r=q.RW;var v=r.length;var w=-1!==bq.indexOf(q.EXTENDED_COUNTRY_CODE+q.EBU_COUNTRY_CODE);for(q=0;q<v;q++){var y=r[q].FIS;var G=y.length;for(y=0;y<G;y++){var I=r[q].FIS[y].FI;var Q=I.length;for(g=0;g<Q;g++){var V=I[g];var Ba=[];var ha=V.CF[0];var rb=!!ha.SSS;var Fa={type:\"Feature\",properties:ha,geometry:{type:\"MultiLineString\",coordinates:Ba}};Fa.properties.LHT=\nw;V.SHP.length&&(Fa.properties.FC=V.SHP[0].FC);rb&&(m=[]);for(ha=0;ha<V.SHP.length;ha++){var bc=V.SHP[ha].value;var ad=bc.length;for(h=0;h<ad;h++){var wc=rb?m:void 0,Jb=new qo(bc[h].trim()),mg=[],pd={};for(Jb.ge();-1!==(k=Jb.Pb());)k===eq?(pd.lat=+String.fromCharCode.apply(cq,Jb.Gd()),Jb.next(),Jb.ge()):k===fq?(pd.lng=+String.fromCharCode.apply(cq,Jb.Gd()),mg.push([pd.lng,pd.lat]),wc&&wc.push(ng(pd)),pd=[],Jb.next(),Jb.ge()):Jb.next();pd.lng=+String.fromCharCode.apply(cq,Jb.Gd());mg.push([pd.lng,\npd.lat]);wc&&wc.push(ng(pd));k=mg;Ba.push(k)}}l.features.push(Fa)}}}}return cq.j.ac.call(this,a,b,c,l,e)};cq.prototype.createTileInternal=cq.prototype.ac;var fq=32,eq=44;function gq(a){function b(m){d.contains(e)&&d.removeChild(e);l&&clearTimeout(l);delete gq.a[f];m&&a.pj&&a.pj.call(k,m)}if(!a.url||!a.Og)throw Error('Parameter \"options\" must specify at least a URL and a callback.');if(\"function\"!==typeof a.Og)throw Error(\"Parameters options.callback must be a function\");var c=a.cp||document;var d=c.getElementsByTagName(\"head\")[0];var e=c.createElement(\"script\");c=a.url instanceof W?a.url:Dp(a.url,a.bp);var f=gq.b++;var g=a.vl||\"callback\";var h=a.Og;var k={};var l=\nnull;k.id=f;k.cancel=function(){b(\"cancelled\")};0!==a.timeout&&(l=x.setTimeout(function(){b(\"timeout\")},a.timeout||3E4));gq.a[f]=function(m){b();h.call(k,m)};e.type=\"text/javascript\";e.src=c.toString()+(c.Mj()?\"&\":\"?\")+g+\"=\"+(a.ep?\"H.service.jsonp.handleResponse(\"+f+\")\":encodeURI(\"H.service.jsonp.handleResponse(\"+f+\")\"));d.appendChild(e);return k}t(\"H.service.jsonp\",gq);gq.mn=function(a){return(a=gq.a[a])?a:function(){}};gq.handleResponse=gq.mn;gq.b=0;gq.a={};function $p(a){$p.j.constructor.call(this,$p,a);this.c=Pp(this,a).callbackKey;this.b=!1}u($p,Op);t(\"H.service.traffic.Service\",$p);$p.prototype.Aa=function(){return{subDomain:\"traffic.ls\",path:\"traffic/6.1\",callbackKey:\"jsoncallback\"}};$p.CONFIG_KEY=\"traffic\";$p.prototype.dj=function(a,b){return new sl(new cq(this,void 0,a,b),{max:22})};$p.prototype.createFlowLayer=$p.prototype.dj;$p.prototype.ej=function(a){return new Sn(new Zp(this,void 0,a))};$p.prototype.createIncidentsLayer=$p.prototype.ej;\nfunction hq(a,b,c,d){a.b||(zp($p,\"Use HERE Traffic API v7 instead.\"),a.b=!0);return gq({url:b,Og:c,pj:function(e){d(Error(\"[\"+e+\"] \"+b+\" request failed\"))},vl:a.c})}$p.prototype.ro=function(a,b,c){a=this.v().clone().G(\"incidents.json\").I(a);return hq(this,a,b,c)};$p.prototype.requestIncidents=$p.prototype.ro;$p.prototype.po=function(a,b,c,d,e,f){a=this.v().clone().G([\"flow/json\",c,a,b].join(\"/\")).I(f||{});return hq(this,a,d,e)};$p.prototype.requestFlowByTile=$p.prototype.po;\n$p.prototype.to=function(a,b,c,d,e,f){a=this.v().clone().G([\"incidents/json\",c,a,b].join(\"/\")).I(f||{});return hq(this,a,d,e)};$p.prototype.requestIncidentsByTile=$p.prototype.to;X.prototype.nh=function(a,b){b=b||6;if(6===b)b=$p;else if(7===b)b=Sp;else throw new D(this.nh,1,\"allowed values are 6 and 7\");return this.Ma(b,a)};X.prototype.getTrafficService=X.prototype.nh;function iq(a){iq.j.constructor.call(this,iq,a);this.b=Pp(this,a).reverseSubDomain;zp(iq,\"Use HERE Geocoding and Search API v7 instead.\")}u(iq,Op);t(\"H.service.GeocodingService\",iq);iq.prototype.Aa=function(){return{subDomain:\"geocoder.ls\",reverseSubDomain:\"reverse\",path:\"6.2\"}};iq.CONFIG_KEY=\"geocoding\";iq.prototype.a=function(a){return Error(a.Details||a.message||a.error)};iq.prototype.Zg=function(a,b,c){a=this.v().clone().G(\"geocode.json\").I(a);return this.B(a,b,c)};iq.prototype.geocode=iq.prototype.Zg;\niq.prototype.ii=function(a,b,c){a=this.v().clone().G(\"reversegeocode.json\").I(a);this.b&&a.Ba(this.b);return this.B(a,b,c)};iq.prototype.reverseGeocode=iq.prototype.ii;iq.prototype.search=function(a,b,c){a=this.v().clone().G(\"search.json\").I(a);return this.B(a,b,c)};iq.prototype.search=iq.prototype.search;X.prototype.km=function(a){return this.Ma(iq,a)};X.prototype.getGeocodingService=X.prototype.km;function jq(a){zp(jq,\"Use HERE Geocoding and Search API v7 instead.\");jq.j.constructor.call(this,jq,a)}u(jq,Op);t(\"H.service.PlacesService\",jq);jq.prototype.Aa=function(){return{subDomain:\"places.ls\",path:\"places/v1\"}};jq.CONFIG_KEY=\"places\";jq.EntryPoint={SEARCH:\"discover/search\",SUGGEST:\"suggest\",EXPLORE:\"discover/explore\",AROUND:\"discover/around\",HERE:\"discover/here\",CATEGORIES:\"categories/places\"};jq.prototype.request=function(a,b,c,d){return kq(this,a,b,c,d)};jq.prototype.request=jq.prototype.request;\nfunction kq(a,b,c,d,e){b=a.v().clone().G(b).I(c||{});return a.B(b,d,e)}jq.prototype.search=function(a,b,c){return kq(this,\"discover/search\",a,b,c)};jq.prototype.search=jq.prototype.search;jq.prototype.Go=function(a,b,c){return kq(this,\"suggest\",a,b,c)};jq.prototype.suggest=jq.prototype.Go;jq.prototype.Fl=function(a,b,c){return kq(this,\"discover/explore\",a,b,c)};jq.prototype.explore=jq.prototype.Fl;jq.prototype.rl=function(a,b,c){return kq(this,\"discover/around\",a,b,c)};jq.prototype.around=jq.prototype.rl;\njq.prototype.on=function(a,b,c){return kq(this,\"discover/here\",a,b,c)};jq.prototype.here=jq.prototype.on;jq.prototype.wl=function(a,b,c){return kq(this,\"categories/places\",a,b,c)};jq.prototype.categories=jq.prototype.wl;jq.prototype.Gl=function(a,b,c,d){a=Dp(a).I(this.v().getQuery()).I(d||{});return this.B(a,b,c)};jq.prototype.follow=jq.prototype.Gl;X.prototype.Im=function(a){return this.Ma(jq,a)};X.prototype.getPlacesService=X.prototype.Im;function lq(){this.a={}}function mq(a,b){for(var c in b)if(b.hasOwnProperty(c)){var d,e=b[c],f=a.a[c]||(a.a[c]=[]),g=e.length;for(d=0;d<g;d++)f.push(new nq(e[d]))}}function Np(a,b,c,d){var e=(a=a.a[b])?a.length:0,f=[];for(b=0;b<e;b++)a[b].nd(c,d)&&f.push(a[b]);return f}\nfunction nq(a){var b,c=a.boxes;this.label=a.label;this.min=a.minLevel;this.max=a.maxLevel;this.b=[];if(c&&(b=c.length)){var d=c[0];var e=new K(d[0],d[1],d[2],d[3]);this.b.push(e);this.a=new K(d[0],d[1],d[2],d[3]);for(a=1;a<b;a++)d=c[a],e=new K(d[0],d[1],d[2],d[3]),this.b.push(e),this.a.ec(e,!1,this.a)}}nq.prototype.nd=function(a,b){if(a>=this.min&&a<=this.max)if((a=this.b.length)&&this.a){if(this.a.nd(b))for(;a--;)if(this.b[a].nd(b))return!0}else return!0;return!1};function oq(a,b,c){var d=this,e=c||{},f=+e.min,g=+e.max;e.tileSize=e.tileSize||512;e.min=f?ae(f,1,17):1;e.min+=Pk(e.tileSize,1);e.max=g?ae(g,1,17):17;oq.j.constructor.call(this,e);C(a,pq,oq,0);C(b,Wh,oq,1);this.i=a;b.a&&b.a(\"OMV\");this.Qa(b,!0);this.m=!1;c&&(c.politicalView&&(this.u=c.politicalView),qq(this,c.lg,c.lg2),this.m=!!c.pois);this.aa=function(){d.T=xp(d);d.reload(!1)};a.addEventListener(\"versionupdate\",this.aa);this.T=xp(this);oq.prototype.qa=function(){var h=/^v2\\/vectortiles\\/(.+)\\/mc$/.exec(a.v().b);\nreturn h?h[1]:B+\"\"}()}u(oq,S);t(\"H.service.omv.Provider\",oq);oq.prototype.Sb=ff;oq.prototype.providesOMV=oq.prototype.Sb;oq.prototype.ub=function(a){return this.T.test(a)};oq.prototype.cacheFilter=oq.prototype.ub;oq.prototype.uc=function(a,b,c){return rq(this.i,a,b,c).toString()};oq.prototype.getTileKey=oq.prototype.uc;oq.prototype.nb=function(){return this.xa};oq.prototype.getCache=oq.prototype.nb;oq.prototype.Lm=function(){return this.u};oq.prototype.getPoliticalView=oq.prototype.Lm;\noq.prototype.yo=function(a){var b=this.u;this.u=a;this.dispatchEvent(new cj(\"politicalviewchange\",this.u,b))};oq.prototype.setPoliticalView=oq.prototype.yo;oq.prototype.MAX_STORE_TIME=2592E6;oq.prototype.l=function(){return od()};oq.prototype.c=function(){return od()?nd():oq.j.c.call(this)};oq.prototype.s=function(){return this.i};oq.prototype.B=function(a,b,c,d,e){return this.i.Ha(a,b,c,d,e)};oq.prototype.requestInternal=oq.prototype.B;oq.prototype.gb=function(a){a.a&&a.a(\"OMV\");this.Qa(a)};\noq.prototype.setStyle=oq.prototype.gb;oq.prototype.V=function(){return oq.j.Ya.apply(this)};oq.prototype.getStyle=oq.prototype.V;oq.prototype.Ya=function(){var a=oq.j.Ya.apply(this),b=a.getState()===Xh.READY,c=a.qc();b&&c&&c.global&&(this.D&&(this.R&&(c.global.ux_language=this.R),this.L&&(c.global.ux_language_fallback=this.L)),this.m&&c.global.poi&&c.global.poi[\"default\"]&&(c.global.poi[\"default\"].visible=this.m),this.D||this.m)&&(a=new ti(c,a.Ib()));return a};oq.prototype.getStyleInternal=oq.prototype.Ya;\nfunction qq(a,b,c){var d=Cc(b),e=Cc(c);d&&(a.R=b);e&&(a.L=c);if(d||e)a.f=[],d=/^([a-zA-Z]{2})(-|$)/,(e=d.exec(b))&&(\"zh\"===e[1]?a.f.push(b):a.f.push(e[1])),(e=d.exec(c))&&(\"zh\"===e[1]?a.f.push(c):a.f.push(e[1])),a.D=!0}oq.prototype.D=!1;var sq=[\"en\"];oq.prototype.hh=function(){return this.f||sq};oq.prototype.getLanguages=oq.prototype.hh;oq.prototype.o=function(){oq.j.o.call(this);this.i.removeEventListener(\"versionupdate\",this.aa)};oq.prototype.xa=new Rk(256);\noq.prototype.ba=function(a,b){return Np(this.i.ba(),this.qa,b,a)};oq.prototype.getCopyrights=oq.prototype.ba;function pq(a){pq.j.constructor.call(this,pq,a);var b=Pp(this,a).mapVersion;this.l=a.queryParams||{};this.b=vc(b)?b:tq[this.v().toString()];vc(this.b)||uq(this)}u(pq,Op);t(\"H.service.omv.Service\",pq);pq.prototype.Aa=function(){return{subDomain:\"vector\",path:\"v2/vectortiles/base/mc\"}};pq.CONFIG_KEY=\"omv\";var tq={};Ic(tq);pq.prototype.Am=function(){return this.b};pq.prototype.getMapVersion=pq.prototype.Am;\nfunction uq(a){a.B(a.v().clone().G(\"../../info\"),function(b){b=b.mapVersion;var c=a.v().toString();a.b=b;b!==tq[c]&&(tq[c]=b,a.dispatchEvent(\"versionupdate\"))},function(){})}pq.prototype.$b=function(a,b,c){b=b||{};var d={min:0,max:22};Ea(c)&&yp(d,c);Mn&&(b.min=d.min=4);return new sl(new oq(this,a,b),d)};pq.prototype.createLayer=pq.prototype.$b;pq.prototype.Ha=function(a,b,c,d,e){return this.B(rq(this,a,b,c),function(f){return f.arrayBuffer().then(d,e)},e,\"arraybuffer\")};\nfunction rq(a,b,c,d){b=a.v().clone().G(d+\"/\"+b+\"/\"+c+\"/omv\");vc(a.b)&&b.I({mv:a.b}).I(a.l);return b}pq.prototype.f=function(a){return Ao()+\"/\"+a};pq.prototype.Je=function(a,b){if(!Da(a))throw new D(this.Je,0,'\"onResult\" must be a function');if(!Da(b))throw new D(this.Je,1,'\"onError\" must be a function');return this.B(this.v().clone().wd(\"v2/vectortiles/pviews\"),a,b)};pq.prototype.getPoliticalViews=pq.prototype.Je;X.prototype.He=function(a){return this.Ma(pq,a)};X.prototype.getOMVService=X.prototype.He;\npq.prototype.s=function(a){mq(this.c,a);this.dispatchEvent(\"copyrightupdate\")};pq.prototype.ba=function(){this.c||(this.c=new lq,this.B(this.v().clone().G(\"../../copyrights\"),A(this.s,this),ld));return this.c};pq.prototype.getCopyrights=pq.prototype.ba;function vq(a){vq.j.constructor.call(this,vq,a);this.b=a.getToken}u(vq,Op);t(\"H.service.iml.Service\",vq);vq.prototype.Aa=function(){return{host:\"interactive.data.api.platform.here.com\",path:\"interactive/v1/catalogs\"}};\nvq.prototype.a=function(a){function b(){for(var d=ea(c),e=d.next();!e.done;e=d.next()){e=e.value;var f=e.format;if(e.keys.every(function(g){return a[g]}))return f()}return JSON.stringify(a)}var c=[{keys:[\"code\",\"title\",\"cause\",\"action\"],format:function(){return a.code+\": \"+a.title+\"; cause: \"+a.cause+\"; action: \"+a.action}},{keys:[\"error\",\"error_description\"],format:function(){return a.error+\": \"+a.error_description}},{keys:[\"error\",\"errorMessage\"],format:function(){return a.error+\": \"+a.errorMessage}}];\nreturn Error(Ea(a)?b():a)};vq.prototype.Qd=function(a,b,c,d,e){var f=this.Qd;wq(f,0,a,b);xq(f,2,c,d);a=this.v().clone().G(a+\"/layers/\"+b+\"/statistics\").I(e||{});return yq(this,a,\"GET\",c,d)};vq.prototype.getStatistics=vq.prototype.Qd;vq.prototype.Ff=function(a,b,c,d,e,f,g,h,k){var l=k?\"\":\".mvtf\";a=this.v().clone().G(d+\"/layers/\"+e+\"/tile/web/\"+c+\"_\"+a+\"_\"+b+l).I(Object.assign({clip:!0},h));return yq(this,a,\"GET\",k?f:function(m){return m.arrayBuffer().then(f)},g,void 0,k?\"application/json\":\"arraybuffer\")};\nvq.prototype.getFeaturesByTile=vq.prototype.Ff;vq.prototype.wj=function(a,b,c,d,e,f){var g=this.wj;zq(g,a);wq(g,1,b,c);xq(g,3,d,e);a=Aq(this,a,b,c,f);return yq(this,a,\"GET\",d,e)};vq.prototype.getFeatureById=vq.prototype.wj;vq.prototype.Sc=function(a,b,c,d,e,f){var g=this.Sc;Bq(g,a);wq(g,1,b,c);xq(g,3,d,e);a=Dq(this,a,b,c,f);return yq(this,a,\"GET\",d,e)};vq.prototype.getFeaturesById=vq.prototype.Sc;\nvq.prototype.Jd=function(a,b,c,d,e){var f=this.Jd;if(!Ea(a)||!(a.bbox||a.north&&a.east&&a.south&&a.west))throw new D(f,0,'must be an object with either \"bbox\" or a full set of \"north\", \"east\", \"south\" and \"west\"');wq(f,1,b,c);xq(f,3,d,e);a=this.v().clone().G(b+\"/layers/\"+c+\"/bbox\").I(a);return yq(this,a,\"GET\",d,e)};vq.prototype.getFeaturesByBoundingBox=vq.prototype.Jd;\nvq.prototype.yj=function(a,b,c,d,e){var f=this.yj;if(!(Ea(a)&&a.radius&&(a.lat&&(a.lng||a.lon)||a.refCatalogHrn&&a.refLayerId&&a.refFeatureId)))throw new D(f,0,'must be an object with \"radius\" and a combination of either \"lat\"+\"lng\" or \"refCatalogHrn\"+\"refLayerId\"+\"refFeatureId\"');wq(f,1,b,c);xq(f,3,d,e);a=this.v().clone().G(b+\"/layers/\"+c+\"/spatial\").I(a);return yq(this,a,\"GET\",d,e)};vq.prototype.getFeaturesByPointAndRadius=vq.prototype.yj;\nvq.prototype.xj=function(a,b,c,d,e,f){var g=this.xj;if(!Ea(a)||!a.radius)throw new D(g,0,'must be an object with \"radius\"');Eq(g,1,b);wq(g,2,c,d);xq(g,4,e,f);a=this.v().clone().G(c+\"/layers/\"+d+\"/spatial\").I(a);return yq(this,a,\"POST\",e,f,b)};vq.prototype.getFeaturesByGeometryAndRadius=vq.prototype.xj;vq.prototype.Jk=function(a,b,c,d,e){var f=this.Jk;wq(f,0,a,b);xq(f,2,c,d);a=this.v().clone().G(a+\"/layers/\"+b+\"/search\").I(e||{});return yq(this,a,\"GET\",c,d)};vq.prototype.searchFeatures=vq.prototype.Jk;\nvq.prototype.Wj=function(a,b,c,d,e){var f=this.Wj;wq(f,0,a,b);xq(f,2,c,d);a=this.v().clone().G(a+\"/layers/\"+b+\"/iterate\").I(e||{});return yq(this,a,\"GET\",c,d)};vq.prototype.iterateFeatures=vq.prototype.Wj;vq.prototype.$c=function(a,b,c,d,e,f){var g=this.$c;Eq(g,0,a);wq(g,1,b,c);xq(g,3,d,e);b=Fq(this,b,c,f);return yq(this,b,\"PUT\",d,e,a)};vq.prototype.putFeatures=vq.prototype.$c;\nvq.prototype.Yc=function(a,b,c,d,e,f){var g=this.Yc;Eq(g,0,a);wq(g,1,b,c);xq(g,3,d,e);b=Fq(this,b,c,f);return yq(this,b,\"POST\",d,e,a)};vq.prototype.postFeatures=vq.prototype.Yc;vq.prototype.hd=function(a,b,c,d,e){var f=this.hd;Bq(f,a);wq(f,1,b,c);xq(f,3,d,e);a=Dq(this,a,b,c);return yq(this,a,\"DELETE\",d,e)};vq.prototype.deleteFeatures=vq.prototype.hd;vq.prototype.Ck=function(a,b,c,d,e,f,g){var h=this.Ck;zq(h,a);Eq(h,1,b);wq(h,2,c,d);xq(h,4,e,f);a=Aq(this,a,c,d,g);return yq(this,a,\"PUT\",e,f,b)};\nvq.prototype.putFeature=vq.prototype.Ck;vq.prototype.wk=function(a,b,c,d,e,f,g){var h=this.wk;zq(h,a);Eq(h,1,b);wq(h,2,c,d);xq(h,4,e,f);a=Aq(this,a,c,d,g);return yq(this,a,\"PATCH\",e,f,b)};vq.prototype.patchFeature=vq.prototype.wk;vq.prototype.ij=function(a,b,c,d,e){var f=this.ij;zq(f,a);wq(f,1,b,c);xq(f,3,d,e);a=Aq(this,a,b,c);return yq(this,a,\"DELETE\",d,e,void 0,\"text/plain\")};vq.prototype.deleteFeature=vq.prototype.ij;\nfunction Fq(a,b,c,d){return a.v().clone().G(b+\"/layers/\"+c+\"/features\").I(d||{})}function Dq(a,b,c,d,e){b=Object.assign({},e,{id:new Hp(b)});return Fq(a,c,d,b)}function Aq(a,b,c,d,e){return a.v().clone().G(c+\"/layers/\"+d+\"/features/\"+b).I(e||{})}\nfunction yq(a,b,c,d,e,f,g){g=void 0===g?\"application/json\":g;c={method:c,headers:Object.assign({},f?{\"Content-Type\":\"application/geo+json\"}:void 0,\"function\"===typeof a.b?{Authorization:\"Bearer \"+a.b()}:void 0,a.g)};f&&(c.data=JSON.stringify(f));f=new tf(g,b.toString(),je,c);f.then(d,Qp(a,b,e));return f}vq.CONFIG_KEY=\"iml\";function wq(a,b,c,d){zc(c,\"String\",a,b,\"must be a string\");zc(d,\"String\",a,b+1,\"must be a string\")}function zq(a,b){zc(b,\"String\",a,0,\"must be a string\")}\nfunction Bq(a,b){if(!Array.isArray(b)||0===b.length||b.some(function(c){return\"string\"!==typeof c}))throw new D(a,0,\"must be a non-empty array of strings\");}function Eq(a,b,c){if(!Ea(c))throw new D(a,b,\"must be a GeoJSON object\");}function xq(a,b,c,d){if(!Da(c))throw new D(a,b,\"must be a function\");if(!Da(d))throw new D(a,b+1,\"must be a function\");}X.prototype.pm=function(a){return this.Ma(vq,a)};X.prototype.getIMLService=X.prototype.pm;function Gq(a,b,c,d){Gq.j.constructor.call(this,d?{min:d.min,max:d.max,engineType:d.engineType}:void 0);C(a,vq,Gq,0);if(!Cc(b))throw new D(Gq,1,'\"catalogHrn\" must be a string');if(!Cc(c))throw new D(Gq,2,'\"layerId\" must be a string');this.u=a;this.f=b;this.i=c;this.m=Ea(d)&&Ea(d.parameters)?d.parameters:{};this.Qa(this.b===kk.WEBGL?new ti({sources:{iml:{type:\"MVT\"}},layers:{iml:{data:{source:\"iml\",layer:this.f+\":\"+this.i},points:{filter:{$geometry:\"point\"},draw:{points:{collide:!1,order:200,color:\"#92CF48\",\nsize:[[10,\"8px\"],[14,\"12px\"],[18,\"16px\"]]}}},polygons:{filter:{$geometry:\"polygon\"},draw:{polygons:{order:201,color:\"#E39E3C\"},lines:{order:202,color:\"#755DA5\",width:\"1px\"}}},lines:{filter:{$geometry:\"line\"},draw:{lines:{order:203,color:\"#0258AE\",width:\"2px\",join:\"round\",cap:\"round\"}}}}}}):new H.map.render.harp.Style({styles:[{layer:this.f+\":\"+this.i,when:[\"==\",[\"geometry-type\"],\"Point\"],technique:\"circles\",renderOrder:200,color:\"#92CF48\",size:[\"interpolate\",[\"linear\"],[\"zoom\"],10,8,14,12,18,16]},\n{layer:this.f+\":\"+this.i,when:[\"==\",[\"geometry-type\"],\"Polygon\"],technique:\"fill\",color:\"#E39E3C\",renderOrder:201},{layer:this.f+\":\"+this.i,when:[\"==\",[\"geometry-type\"],\"Polygon\"],technique:\"solid-line\",color:\"#755DA5\",lineWidth:\"1px\",renderOrder:202},{layer:this.f+\":\"+this.i,when:[\"==\",[\"geometry-type\"],\"LineString\"],technique:\"solid-line\",color:\"#0258AE\",lineWidth:\"2px\",renderOrder:203}]}))}u(Gq,S);t(\"H.service.iml.Provider\",Gq);\nGq.prototype.B=function(a,b,c,d,e){return this.u.Ff(a,b,c,this.f,this.i,d,e,this.m)};Gq.prototype.requestInternal=Gq.prototype.B;Gq.prototype.Sb=ff;Gq.prototype.providesOMV=Gq.prototype.Sb;Gq.prototype.V=function(){return this.Ya()};Gq.prototype.getStyle=Gq.prototype.V;Gq.prototype.gb=function(a){C(a,ti)&&a.a(\"MVT\");this.Qa(a)};Gq.prototype.setStyle=Gq.prototype.gb;function Mp(a){a=void 0===a?{}:a;Mp.j.constructor.call(this,Mp,a);this.b={og:a.resource||\"base\",eg:a.projection||\"mc\",format:a.format||\"png8\"};this.f=a.queryParams||{}}u(Mp,Op);t(\"H.service.rasterTile.Service\",Mp);p=Mp.prototype;p.V=function(){return this.f.style||\"explore.day\"};p.Aa=function(){return{subDomain:\"maps\",path:\"v3\"}};p.ba=function(){this.c||(this.c=new lq,this.B(this.v().clone().G(\"copyright\"),A(this.Kn,this),ld));return this.c};\np.Kn=function(a){var b=a.copyrights;a=a.resources;var c={},d=this.b.og+\".\"+this.V();c[d]=[];a[this.b.og].styles[this.V()].forEach(function(e){b[e].forEach(function(f){var g=[];f.boundingBoxes.forEach(function(h){g.push([h.north,h.west,h.south,h.east])});c[d].push({boxes:g,label:f.label,alt:f.alt,minLevel:f.minLevel,maxLevel:f.maxLevel})})});mq(this.c,c)};p.Fe=function(a,b){return this.B(this.v().clone().G(\"info\"),a,b)};Mp.prototype.getInfo=Mp.prototype.Fe;\nMp.prototype.Je=function(a,b){return this.B(this.v().clone().G(\"politicalViews\"),a,b)};Mp.prototype.getPoliticalViews=Mp.prototype.Je;Mp.prototype.jm=function(a,b){return this.B(this.v().clone().G(\"features\"),a,b)};Mp.prototype.getFeatures=Mp.prototype.jm;Mp.prototype.hh=function(a,b){return this.B(this.v().clone().G(\"languages\"),a,b)};Mp.prototype.getLanguages=Mp.prototype.hh;Mp.CONFIG_KEY=\"rasterTile\";X.prototype.lh=function(a){return this.Ma(Mp,a)};X.prototype.getRasterTileService=X.prototype.lh;function Hq(a,b,c,d,e,f,g){var h=this;g=g||{};f=f?f:{};var k=a.v().clone().G(b+\"/\"+a.vc()+\"/\"+c).I(f),l=a.c;this.D=a;this.R=k;Ek.call(this,{tileSize:d,max:512===d?19:20,min:512===d?2:0,getURL:function(m,n,q){var r=h.R.clone();l&&r.Ba(l[(q+n+m)%l.length]);r.G(q+\"/\"+m+\"/\"+n+\"/\"+d+\"/\"+e);return r.toString()},crossOrigin:g.crossOrigin,headers:g.headers,uri:k.toString().replace(/_/g,\"\")+d,engineType:g.engineType});this.me=b;this.ab=c;this.xa=f;this.qa=c.split(\".\")[0];this.i=A(this.i,this);this.getCopyrights=\nthis.ba;this.L=!1;a.addEventListener(\"versionupdate\",this.i)}u(Hq,Ek);Hq.prototype.MAX_STORE_TIME=2592E6;Hq.prototype.B=function(a,b,c,d,e,f){this.L||(zp(Iq,\"Use HERE Vector Tile API or Raster Tile API v3 instead.\"),this.L=!0);return Hq.j.B.call(this,a,b,c,d,e,f)};Hq.prototype.requestInternal=Hq.prototype.B;Hq.prototype.o=function(){Ek.prototype.o.call(this);this.D.removeEventListener(\"versionupdate\",this.i)};Hq.prototype.ba=function(a,b){return Np(this.D.ba(),this.qa,b,a)};\nHq.prototype.getCopyrights=Hq.prototype.ba;Hq.prototype.i=function(){var a=this.D;this.R=a.v().clone().G(this.me+\"/\"+a.vc()+\"/\"+this.ab).I(this.xa);this.reload(!1)};Hq.prototype.l=function(){return od()};Hq.prototype.c=function(){return od()?nd():Hq.j.c.call(this)};function Iq(a){Iq.j.constructor.call(this,Iq,a);a=Pp(this,a);this.c=a.shards;(this.f=a.ignoreTypes?null:a.type)&&this.v().Ba(this.f);this.b=a.version;this.s=new lq;this.m={};this.l=0;\"newest\"===this.b&&Jq(this)}u(Iq,Op);t(\"H.service.MapTileService\",Iq);Iq.prototype.Aa=function(){return{subDomain:\"maps.ls\",path:\"maptile/2.1\",type:\"base\",version:\"newest\",shards:[\"1\",\"2\",\"3\",\"4\"]}};Iq.CONFIG_KEY=\"maptile\";function Kq(a,b){for(var c={},d=a[b+\"s\"][b],e=d.length;e--;)c[d[e].id]=d[e];a[b+\"s\"]=c}\nIq.prototype.Hj=function(){return this.f};Iq.prototype.getType=Iq.prototype.Hj;Iq.prototype.vc=function(){return this.b};Iq.prototype.getVersion=Iq.prototype.vc;Iq.prototype.ba=function(){this.l||(this.b&&\"newest\"!==this.b||\"traffic\"===this.f)&&Lq(this);return this.s};Iq.prototype.getCopyrights=Iq.prototype.ba;\nfunction Jq(a){var b=a.v().clone().G(\"info\").I({output:\"json\"});a.c&&b.Ba(a.c[0]);a.B(b,function(c){c=c.response;var d;Kq(c,\"map\");Kq(c,\"scheme\");Kq(c,\"tiletype\");Kq(c,\"format\");Kq(c,\"resolution\");Kq(c,\"language\");if(\"newest\"===a.b&&\"traffic\"!==a.f)for(d in c.maps)c.maps[d].hash&&c.maps[d].newest&&(a.b=c.maps[d].hash,a.dispatchEvent(\"versionupdate\"));a.u=c;a.dispatchEvent(\"infoupdate\")},function(c){throw c;})}\nfunction Lq(a){var b=a.v().clone().G(\"copyright\").G(a.vc()).I({output:\"json\"});a.c&&b.Ba(a.c[0]);a.l=1;a.B(b,function(c){a.l=2;mq(a.s,c);a.dispatchEvent(\"copyrightupdate\")},function(c){a.l=-1;throw c;})}Iq.prototype.Fe=function(){return this.u};Iq.prototype.getInfo=Iq.prototype.Fe;\nIq.prototype.ue=function(a,b,c,d,e,f){var g=this.v().clone().G(a+\"/\"+this.vc()+\"/\"+b+\"/\"+c+\"/\"+d).I(e?e:{}).toString();var h=0,k,l=g.length;if(0!==l)for(k=0;k<l;k++){var m=g.charCodeAt(k);h=(h<<5)-h+m;h|=0}g=h;h=this.m[g];h||(h=new Hq(this,a,b,c,d,e,yp({headers:this.g},f||{})),this.m[g]=h);return h};Iq.prototype.createTileProvider=Iq.prototype.ue;Iq.prototype.nc=function(a,b,c,d,e,f,g,h){a=this.ue(a,b,c,d,e,h);return new sl(a,{opacity:f,dark:!!g})};Iq.prototype.createTileLayer=Iq.prototype.nc;\nX.prototype.ih=function(a){return this.Ma(Iq,a)};X.prototype.getMapTileService=X.prototype.ih;function Mq(a){Mq.j.constructor.call(this,Mq,a)}u(Mq,Op);t(\"H.service.publicTransit.Service\",Mq);Mq.prototype.Aa=function(){return{subDomain:\"transit.router\",path:\"v8\"}};Mq.CONFIG_KEY=\"publicTransit\";Mq.prototype.Tm=function(a,b,c){a=this.v().clone().G(\"routes\").I(a);return this.B(a,b,c)};Mq.prototype.getRoutes=Mq.prototype.Tm;Mq.prototype.$l=function(a,b,c){a=this.v().clone().G(\"departures\").I(a);return this.B(a,b,c)};Mq.prototype.getDepartures=Mq.prototype.$l;\nMq.prototype.Xm=function(a,b,c){a=this.v().clone().G(\"stations\").I(a);return this.B(a,b,c)};Mq.prototype.getStations=Mq.prototype.Xm;Mq.prototype.a=function(a){return Error(JSON.stringify(a))};X.prototype.Pm=function(a){return this.Ma(Mq,a)};X.prototype.getPublicTransitService=X.prototype.Pm;function Nq(a){Nq.j.constructor.call(this,Nq,a);zp(Nq,\"Use HERE Routing API v8 instead.\")}u(Nq,Op);t(\"H.service.RoutingService\",Nq);Nq.prototype.Aa=function(){return{subDomain:\"route.ls\",path:\"routing/7.2\"}};Nq.prototype.a=function(a){return Error(a.details)};Nq.CONFIG_KEY=\"routing\";Nq.prototype.Cd=function(a,b,c){a=this.v().clone().G(\"calculateroute.json\").I(a);return this.B(a,b,c)};Nq.prototype.calculateRoute=Nq.prototype.Cd;\nNq.prototype.Ng=function(a,b,c){a=this.v().clone().Ba(\"isoline\").G(\"calculateisoline.json\").I(a);return this.B(a,b,c)};Nq.prototype.calculateIsoline=Nq.prototype.Ng;function Oq(a){Oq.j.constructor.call(this,Oq,a)}u(Oq,Op);t(\"H.service.RoutingService8\",Oq);Oq.CONFIG_KEY=\"routing_v8\";Oq.prototype.Aa=function(){return{subDomain:\"router\",path:\"v8/routes\"}};Oq.prototype.a=function(a){return Error(a.error)};Oq.prototype.Cd=function(a,b,c){a=this.v().clone().I(a);return this.B(a,b,c)};Oq.prototype.calculateRoute=Oq.prototype.Cd;Oq.prototype.Ng=function(a,b,c){a=this.v().clone().Ba(\"isoline\").wd(\"v8/isolines\").I(a);return this.B(a,b,c)};\nOq.prototype.calculateIsoline=Oq.prototype.Ng;X.prototype.Fj=function(a,b){b=Mn?8:+b||7;if(7===b)b=Nq;else if(8===b)b=Oq;else throw new D(this.Fj,1,\"allowed values are 7 and 8\");return this.Ma(b,a)};X.prototype.getRoutingService=X.prototype.Fj;function Pq(){}t(\"H.service.extension.dataView.ITable\",Pq);Pq.prototype.Md=function(){};Pq.prototype.getMeta=Pq.prototype.Md;Pq.prototype.Pd=function(){};Pq.prototype.getRowCount=Pq.prototype.Pd;Pq.prototype.tc=function(){};Pq.prototype.getRow=Pq.prototype.tc;Pq.prototype.Ta=function(){};Pq.prototype.getColumnNames=Pq.prototype.Ta;Pq.prototype.Be=function(){};Pq.prototype.getColumn=Pq.prototype.Be;Pq.prototype.ua=function(){};Pq.prototype.getCell=Pq.prototype.ua;Pq.prototype.concat=function(){};\nPq.prototype.concat=Pq.prototype.concat;function Qq(){}t(\"H.service.extension.dataView.IRow\",Qq);Qq.prototype.Ta=function(){};Qq.prototype.getColumnNames=Qq.prototype.Ta;Qq.prototype.ua=function(){};Qq.prototype.getCell=Qq.prototype.ua;Qq.prototype.md=function(){};Qq.prototype.getTable=Qq.prototype.md;function Rq(a,b){this.a=a;this.b=b}t(\"H.service.extension.dataView.ObjRow\",Rq);Rq.prototype.Ta=function(){return this.a.Ta()};Rq.prototype.getColumnNames=Rq.prototype.Ta;Rq.prototype.ua=function(a){return this.a.ua(this.b,a)};Rq.prototype.getCell=Rq.prototype.ua;Rq.prototype.md=function(){return this.a};Rq.prototype.getTable=Rq.prototype.md;function Sq(){}t(\"H.service.extension.dataView.IColumn\",Sq);Sq.prototype.ua=function(){};Sq.prototype.getCell=Sq.prototype.ua;function Tq(a,b){this.b=a;this.a=b}t(\"H.service.extension.dataView.ObjColumn\",Tq);Tq.prototype.ua=function(a){return this.b.ua(a,this.a)};Tq.prototype.getCell=Tq.prototype.ua;function Uq(a,b,c){var d;b=b||(a&&a.length?Object.keys(a[0]):B);this.Cb=a;if(b)for(this.Dd=b,this.Pg=a=oc(),d=b.length;d--;)a[b[d]]=!0;c!==B&&(this.Sh=c)}t(\"H.service.extension.dataView.ObjTable\",Uq);p=Uq.prototype;p.Sh=B;p.Cb=B;p.Dd=B;p.Pg=B;p.Md=function(){return this.Sh};Uq.prototype.getMeta=Uq.prototype.Md;Uq.prototype.Pd=function(){return this.Cb?this.Cb.length:0};Uq.prototype.getRowCount=Uq.prototype.Pd;Uq.prototype.tc=function(a){var b=this.Cb;return b&&b[a]?new Rq(this,a):B};\nUq.prototype.getRow=Uq.prototype.tc;Uq.prototype.Ta=function(){return this.Dd||hf};Uq.prototype.getColumnNames=Uq.prototype.Ta;Uq.prototype.Be=function(a){return this.Pg[a]?new Tq(this,a):B};Uq.prototype.getColumn=Uq.prototype.Be;Uq.prototype.ua=function(a,b){var c=this.Cb;return(a=c&&this.Pg[b]&&c[a])&&a[b]};Uq.prototype.getCell=Uq.prototype.ua;\nUq.prototype.concat=function(){var a=arguments.length,b,c=this.Dd,d=\"\"+this.Dd,e=(this.Cb||[]).slice();for(b=0;b<a;b++){var f=arguments[b];if(!(f instanceof Uq))throw new D(this.concat,b);if(f.Cb){if(c&&\"\"+f.Dd!==d)throw new D(this.concat,b,\"Incompatible columns!\");e=e.concat(f.Cb)}}return new Uq(e,this.Dd,this.Sh)};Uq.prototype.concat=Uq.prototype.concat;function Vq(a,b){a.Cb?a.Cb.push(b):a.Cb=[b];return a.Cb.length-1};function Wq(a){var b=Xq;if(!a||!Cc(af(a.layerId,a.layer))||!Fc(a.level)||vc(a.rowFilter)&&!Da(a.rowFilter)||vc(a.rowFilterContext)&&!Ea(a.rowFilterContext))throw new D(b,1,vc(\"invalid layer config\")?\"invalid layer config\":a);};function Yq(a,b,c,d){d=d||Zq;this.a={};d.provider=a;this.invalidate=gf;Yq.j.constructor.call(this,b,d);delete this.invalidate;c&&(this.b=c);this.ra(kh.ADD)}u(Yq,Hh);t(\"H.service.remote.Spatial\",Yq);var Zq={};Yq.prototype.cb=function(){return this.b||Hh.prototype.cb.call(this)};Yq.prototype.getId=Yq.prototype.cb;Yq.prototype.pg=ld;Yq.prototype.retain=Yq.prototype.pg;Yq.prototype.release=ff;Yq.prototype.release=Yq.prototype.release;function $q(a,b){this.a=a;b&&(this.b=b)}var ar=new $q(hf);\nYq.prototype.Kd=function(a){return(this.a[a.key]||ar).a};Yq.prototype.getGeometriesForTile=Yq.prototype.Kd;Yq.prototype.gh=function(a){return(this.a[a.key]||ar).b};Yq.prototype.getLabels=Yq.prototype.gh;function br(a,b,c){a.a[b.key]=new $q(c,void 0)};function cr(a,b,c,d){if(!Da(c))throw new D(a,b,\"has invalid type\");if(!Da(d))throw new D(a,b+1,\"has invalid type\");};function dr(a,b,c){var d=8===a;this.b=b;this.c=c||ld;(this.a=4===a||d)?this.l=d:this.g=1===a;this.f=this.a?\"$HProjGeometry\":\"geometry\"}\ndr.prototype.parse=function(a,b,c){var d,e,f={},g=[],h,k;var l=0;for(h=c.length;l<h;l++){var m=c[l];var n=m.Rows;if(m=n.length){var q=Object.keys(n[0]).filter(function(v){return\"geometry\"!==v&&\"$HProjGeometry\"!==v});q=new Uq(n,q);for(k=0;k<m;k++){var r=n[k];if(e=r[this.f]){if(delete r[this.f],r=q.tc(k))try{this.a?d=er(this,a,b,r,e):d=fr(this,a,r,e.path),d.ka(a),g.push(d)}catch(v){this.c(v.message)}}else this.c(\"Layer must contain geometries\")}}}f[this.a?\"spatials\":this.g?\"markers\":\"domMarkers\"]=\ng;return f};function er(a,b,c,d,e){var f=[],g=e.paths,h=g.length,k=0,l=a.b&&a.b(d);for(a=new Yq(b,a.l,B,{style:l||a.i,data:d});k!==h;)f.push(gr(g[k++]));br(a,c,[new Ph(f,e.interiorsIndex,e.outlinesIndex)]);return a}function fr(a,b,c,d){d=new kg(d[0],d[1]);var e=a.b&&a.b(c);a.g?(a={icon:e,data:c,provider:b},a=new Rn(d,a)):(a={icon:e,data:c,provider:b},a=new bj(d,a));return a}function gr(a){for(var b=0,c=a.length,d=[];b<c;)d.push(new J(a[b++],a[b++]));return d};function hr(a,b){var c={};this.c=a;Ya(c,b||c);ok.call(this,c);this.ig={};a=this.Kb(nh.SPATIAL);a.update(a.a+1,kh.ADD)}u(hr,ok);t(\"H.service.remote.ObjectProvider\",hr);hr.prototype.F=function(){ok.prototype.F.call(this)};hr.prototype.dispose=hr.prototype.F;hr.prototype.Ec=function(){return hf};hr.prototype.requestMarkers=hr.prototype.Ec;hr.prototype.Dc=function(){return hf};hr.prototype.requestDomMarkers=hr.prototype.Dc;hr.prototype.sd=function(){return hf};hr.prototype.requestOverlays=hr.prototype.sd;\nhr.prototype.Rb=ff;hr.prototype.providesMarkers=hr.prototype.Rb;hr.prototype.Qb=ff;hr.prototype.providesDomMarkers=hr.prototype.Qb;hr.prototype.Cc=ff;hr.prototype.providesSpatials=hr.prototype.Cc;hr.prototype.kg=function(){return hf};hr.prototype.requestSpatials=hr.prototype.kg;function ir(a){return a.wc(!0)}hr.prototype.mg=function(a,b){a=jr(this,a,kr);b&&(a=a.filter(ir));return a};hr.prototype.requestSpatialsByTile=hr.prototype.mg;\nfunction jr(a,b,c){var d=b.l&&b.l[c],e;!d&&(e=b.s)&&(delete b.s,(b.l=a=a.c.parse(a,b,e))&&(d=a[c]));return d||hf}hr.prototype.fa=function(a){var b=a.cb();if(this.ig[b])throw new $c(this.fa,\"Remote object \"+b+\" already added\");return this.ig[b]=a};hr.prototype.Ga=function(a){delete this.ig[a.cb()]};var kr=\"spatials\";function lr(a){a=a||{};var b=a.tileCacheSize||1024,c=a.resultType,d=a.styleCallback;vc(a.min)||(a.min=12);lr.j.constructor.call(this,a);if(-1===mr.indexOf(c))throw new D(lr,2,\"invalid resultType\");this.f=c;if(d&&!Da(d))throw new D(lr,2,\"invalid style callback\");this.aa=d;this.R=a.pixelRatio||Ue();this.Gb=A(this.Gb,this);this.J(new Rk(b,A(this.ab,this)));this.createTileInternal=4===c||8===c?A(this.T,this):A(this.L,this)}u(lr,S);t(\"H.service.extension.TileProvider\",lr);lr.prototype.i=!1;\nlr.prototype.getCapabilities=function(){return lr.j.getCapabilities.call(this)|Qj.CROP_LINES_BY_TILE|Qj.CROP_POLYGONS_BY_TILE};lr.prototype.Ha=function(a,b,c,d){return this.i?lr.j.Ha.call(this,a,b,c,d):B};lr.prototype.requestTile=lr.prototype.Ha;lr.prototype.Gb=function(a){this.dispatchEvent(new wd(\"error\",Cc(a)?a:a+\"\",this))};lr.prototype.Rb=function(){return 1===this.f};lr.prototype.providesMarkers=lr.prototype.Rb;lr.prototype.Qb=function(){return 2===this.f};lr.prototype.providesDomMarkers=lr.prototype.Qb;\nlr.prototype.Cc=function(){return 4===this.f||8===this.f};lr.prototype.providesSpatials=lr.prototype.Cc;function nr(a){var b=a.qa;b||(a.u||(a.u=a.m(a.f,a.aa,a.Gb)),b=a.qa=new hr(a.u),b.ka(a),b.addEventListener(a.A.za,A(a.xa,a)),b.qa=!0);return b}\nlr.prototype.L=function(a,b,c,d){var e=this.getTileKey(a,b,c);e=this.nb().get(e);var f=2==this.f,g=[],h=nr(this);e?e.valid=!0:(a=e=new Xk(a,b,c,z),delete a.l,a.s=d);d=f?jr(h,e,\"domMarkers\"):jr(h,e,\"markers\");for(b=d.length;b--;)a=d[b],a.Ii=e,(f||1===a.xb().getState())&&g.push(a);e.data=g;return e};lr.prototype.xa=function(a){if(a=a.target.Ii)a.valid=!1};lr.prototype.Ao=function(a){this.D=!!a};lr.prototype.setTileCanvasRendering=lr.prototype.Ao;lr.prototype.D=!0;\nlr.prototype.T=function(a,b,c,d){var e=nr(this),f=this.getTileKey(a,b,c),g=this.tileSize,h=this.nb().get(f);h||(a=h=new al(f,a,b,c,g,this.R,c,e),delete a.l,a.s=d);this.D?(d=Cp.pop(g),h.W(d)||Cp.push(d,g)):gl(h);return h};lr.prototype.ab=function(a,b){var c;if(4===this.f||8===this.f){a=b.Ua();for(c=a.length;c--;)delete a[c].a[b.key];if(a=b.gg())Cp.push(a,this.tileSize),b.hg()}else for(a=b.data,c=a.length;c--;)delete a[c].Ii};lr.prototype.o=function(){lr.j.o.call(this);nr(this).F()};\nvar or={MARKER:1,DOM_MARKER:2,POLYLINE:4,POLYGON:8};lr.ResultType=or;var mr=[1,2,4,8];function Xq(a,b,c){var d=this,e=b&&b.rowFilter,f=c.resultType;Xq.j.constructor.call(this,c);C(a,pr,Xq,0);Wq(b);e?(c=Wa(b),c.rowFilter=e.toString()):c=Wa(b);delete c.layer;c.layerId=af(b.layerId,b.layer);(new Pf).a(\"pde\",\"H.service.extension.worker.processor\");a=a.v().clone().G(qr+\".\"+rr).I({meta:1});(new Sf(\"pde\",{message:[this.uid,0,{tileSize:this.tileSize,projected:!0,onlyOutline:4===f,serverUrl:a.toString(),layerConfigs:[c],horizontalMargin:1}]})).then(function(){d.i=!0;d.Va()},this.Gb)}\nu(Xq,lr);t(\"H.service.extension.platformData.TileProvider\",Xq);Xq.prototype.m=function(a,b,c){a=new dr(a,b,c);a.i=sr;return a};var sr=new wh({strokeColor:\"transparent\",fillColor:\"transparent\",lineWidth:0,lineJoin:\"round\",lineCap:\"round\"});\nXq.prototype.B=function(a,b,c,d,e){var f=this,g=this.getTileKey(a,b,c),h;g=this.nb().get(g);var k={cancel:ld},l=!0,m=this.f;g&&(4===m||8===m?g.Ud()||(d(Cp.pop(this.tileSize),null),l=!1):(d(z),l=!1));if(l){var n=Ap.setTimeout(function(){h=new Sf(\"pde\",{message:[f.uid,1,[a,b,c]]});h.then(d,e)},500);k.cancel=function(){h?h.cancel():Ap.clearTimeout(n)}}return k};Xq.prototype.requestInternal=Xq.prototype.B;Xq.prototype.o=function(){Xq.j.o.call(this);new Sf(\"pde\",{message:[this.uid,3]})};\nXq.ResultType=or;function tr(a,b,c,d,e,f){cr(tr,1,b,c);cr(tr,2,d,e);(this.f=a.length)?(this.U=a,this.m=b,this.i=c,this.b=0,this.c=A(this.c,this),this.s=d,this.l=e,this.a=oc(),Ya(this.a,ur,f||{}),this.g={},x.setTimeout(this.c,0)):b(hf,!0)}var ur={duration:100,Kl:\"geometry\",Jl:\"WKT\",uo:\"searchAttributes\",hj:B};\ntr.prototype.c=function(){var a=[];var b=!1;for(var c=Lk(),d;this.b<this.f;){var e=this.U[this.b];b=e.attributes;d=e.layerId||this.a.hj;e.distance&&(b[this.a.uo]={nearest:new kg(e.nearestLat,e.nearestLon),distance:e.distance});if(e=e[this.a.Kl]){try{var f=Wn(new qo(e))}catch(g){this.i(new x.Error(g.message));b=!0;break}b[this.a.Jl]=f}(e=this.g[d])||(e=this.g[d]=this.s({layerId:d,columnNames:Object.keys(b)}));b=this.l(e,b);a.push(b);this.b++;if((b=this.b===this.f)||Lk()-c>=this.a.duration){this.m(a,\nb);break}}b?this.g={}:this.u=x.setTimeout(this.c,0)};tr.prototype.cancel=function(){x.clearTimeout(this.u);this.b<this.f&&this.i(new x.Error(\"parsing canceled\"))};tr.prototype.cancel=tr.prototype.cancel;function vr(a){this.a=a}vr.prototype.cancel=function(){for(var a=this.a,b=a.length;b--;)a[b].cancel();a.length=0};vr.prototype.cancel=vr.prototype.cancel;function pr(a){pr.j.constructor.call(this,pr,a);zp(pr)}u(pr,Op);t(\"H.service.extension.platformData.Service\",pr);pr.prototype.Aa=function(){return{subDomain:\"s.fleet.ls\",path:\"1\"}};pr.CONFIG_KEY=\"platformData\";\npr.prototype.request=function(a,b,c,d,e){var f=\"text/plain\";if(!a)throw new D(this.request,0,a);if(!b)throw new D(this.request,1,b);if(!d)throw new D(this.request,3,d);if(!e)throw new D(this.request,4,e);a=this.v().clone().G(a+\".\"+b).I(c);b===wr.JSON&&(f=\"application/json\");return this.B(a,d,e,f)};pr.prototype.request=pr.prototype.request;var qr=\"tiles\";\npr.EntryPoint={DOC_ATTRIBUTES:\"doc/attributes\",DOC_LAYER:\"doc/layer\",DOC_LAYERS:\"doc/layers\",DOC_MAPS:\"doc/maps\",DOC_INDEXES:\"doc/indexes\",SEARCH_BBOX:\"search/bbox\",SEARCH_CORRIDOR:\"search/corridor\",SEARCH_PROXIMITY:\"search/proximity\",SEARCH_QUADKEY:\"search/quadkey\",SERVICE_CONFIGURATION:\"serviceconfiguration\",STATIC:\"static\",TILE:\"tile\",TILES:qr,FILE:\"file\",INDEX:\"index\"};var rr=\"json\",wr={TXT:\"txt\",JSON:rr,HTML:\"html\",BIN:\"bin\"};pr.EntryPointType=wr;\npr.prototype.nc=function(a,b){var c=b&&b.resultType;a=new Xq(this,a,b);var d;1==c||2===c?d=new Sn(a):d=new sl(a);return d};pr.prototype.createTileLayer=pr.prototype.nc;function xr(a,b,c,d,e){var f=[],g,h=c.layer_id||c.layer_ids;a=a.request(b,rr,c,function(k){g=new tr(k.geometries,d,e,function(l){return new Uq([],l.columnNames,l)},function(l,m){return l.tc(Vq(l,m))},{hj:h});f.push(g)},function(k){e(new x.Error(k))});f.push(a);return new vr(f)}\nfunction yr(a,b,c){if(!Bc(a))throw new D(c,0,\"has invalid type\");if(!Bc(b))throw new D(c,1,\"has invalid type\");if(a.length!==b.length||!a.length)throw new D(c,1,\"specify one key attribute for each given layer id in the same order\");}\npr.prototype.Fc=function(a,b,c,d,e,f){function g(l,m){m&&h--;d(l,!h)}var h,k=[];yr(a,b,this.Fc);cr(this.Fc,3,d,e);C(c,K,this.Fc,2);c={bbox:c.c+\",\"+c.a+\";\"+c.f+\",\"+c.b};f&&Ya(c,f);a=c.layer_id?[c.layer_id]:a;f=0;for(h=a.length;f<h;f++)c.layer_id=a[f],c.key_attribute=b[f],k.push(xr(this,\"search/bbox\",c,g,e));return new vr(k)};pr.prototype.searchByBoundingBox=pr.prototype.Fc;\npr.prototype.Ub=function(a,b,c,d,e,f,g){yr(a,b,this.Ub);C(c,kg,this.Ub,2,\"has invalid type\");if(!Fc(d))throw new D(this.Ub,3,\"has invalid type\");cr(this.Ub,4,e,f);a={layer_ids:a.join(\",\"),key_attributes:b.join(\",\"),proximity:c.lat+\",\"+c.lng+\",\"+d};g&&Ya(a,g);return xr(this,\"search/proximity\",a,e,f)};pr.prototype.searchByProximity=pr.prototype.Ub;\npr.prototype.Tb=function(a,b,c,d,e,f,g){var h=\"\";yr(a,b,this.Tb);if(!Cc(c)&&!C(c,L))throw new D(this.Tb,1,\"has invalid type\");if(!Fc(d))throw new D(this.Tb,2,\"has invalid type\");cr(this.Tb,4,e,f);a={layer_ids:a.join(\",\"),key_attributes:b.join(\",\"),radius:d};if(Cc(c))a.route_id=c;else{d=c.$;c=0;for(b=d.length;c<b;c+=3)h+=d[c]+\",\"+d[c+1],c<b-3&&(h+=\";\");a.corridor=h}g&&Ya(a,g);return xr(this,\"search/corridor\",a,e,f)};pr.prototype.searchByCorridor=pr.prototype.Tb;\nX.prototype.Jm=function(a){return this.Ma(pr,a)};X.prototype.getPlatformDataService=X.prototype.Jm;function zr(a){zr.j.constructor.call(this,zr,a);zp(zr)}u(zr,Op);t(\"H.service.extension.geofencing.Service\",zr);zr.prototype.Aa=function(){return{subDomain:\"fleet.ls\",path:\"2\"}};zr.CONFIG_KEY=\"geofencing\";zr.prototype.request=function(a,b,c,d){if(!a)throw new D(this.request,0,a);if(!Da(c))throw new TypeError(\"onResult must be a function\");if(!Da(d))throw new TypeError(\"onError must be a function\");a=this.v().clone().G(a+\".json\").I(b);return this.B(a,c,d)};zr.prototype.request=zr.prototype.request;\nzr.prototype.a=function(a){return Error(a.issues&&a.issues.length?a.issues.map(function(b){return b.message}).join(\". \"):a.message||a.response_code)};zr.EntryPoint={SEARCH_PROXIMITY:\"search/proximity\"};X.prototype.lm=function(a){return this.Ma(zr,a)};X.prototype.getGeofencingService=X.prototype.lm;t(\"H.service.extension.customLocation.Permission\",{READ:\"read\",WRITE:\"write\",EXPORT:\"export\"});t(\"H.service.extension.customLocation.Storage\",{READONLY:\"readonly\",UPDATABLE:\"updatable\"});function Ar(a){var b=Br;if(!a||!Cc(a.layerId)||vc(a.rowFilter)&&!Da(a.rowFilter)||vc(a.rowFilterContext)&&!Ea(a.rowFilterContext))throw new D(b,1,vc(\"invalid layer config\")?\"invalid layer config\":a);}function Cr(a){return Cc(a)&&/^[A-Z][A-Z0-9_]*$/.test(a)}function Dr(a){for(var b=a&&a.length,c=2<=b&&\"WKT\"===a[--b]&&\"GEOMETRY_ID\"===a[--b];c&&b--;)c=Cr(a[b]);return c}\nfunction Er(a,b){var c=\"\",d=[];if(b){var e=a.geometries;if(e&&e.length){var f=Object.keys(e[0].attributes);c=c+(\"Meta:\\t\"+b+\"\\n\")+f.join(\"\\t\");c+=\"\\tWKT\\n\";for(a=0;a<e.length;a++){var g=e[a].attributes;var h=e[a].geometry;for(b=0;b<f.length;b++)d.push(g[f[b]]);c+=d.join(\"\\t\");c+=\"\\t\"+h+\"\\n\";d=[]}}}else{h={};d=[];if(a.geometries)for(e=0;e<a.geometries.length;e++)b=a.geometries[e],h[b.layerId]||(h[b.layerId]=[]),h[b.layerId].push(b);for(f in h)d.push({layerId:f,geometries:h[f]});for(a=0;a<d.length;a++)c+=\nEr(d[a],d[a].layerId)}return c};function Br(a,b,c){var d=this,e=b&&b.rowFilter,f;Br.j.constructor.call(this,c);C(a,Fr,Br,0);var g=c.resultType;Ar(b);if(e){var h=Wa(b);h.rowFilter=e.toString()}else h=b;(new Pf).a(\"cle\",\"H.service.extension.worker.processor\");var k=b.layerId;a.request(Gr,Hr,{detail_level:\"all\",layer_id:k},function(l){l=l.layers;var m;for(m=0;m<l.length;m++)if(l[m].layerId===k){h.level=l[m].level;break}f=a.v().clone().G(Ir+\".\"+Hr).I({meta:1});(new Sf(\"cle\",{message:[d.uid,0,{tileSize:d.tileSize,projected:!0,onlyOutline:4===\ng,serverUrl:f.toString(),layerConfigs:[h],batchTiles:!1,horizontalMargin:1}]})).then(function(){d.i=!0;d.Va()},d.Gb)},function(l){d.Gb(l.message)})}u(Br,lr);t(\"H.service.extension.customLocation.TileProvider\",Br);Br.prototype.m=function(a,b,c){return new dr(a,b,c)};\nBr.prototype.B=function(a,b,c,d,e){var f=this,g=this.getTileKey(a,b,c),h;g=this.nb().get(g);var k={cancel:ld},l=!0,m=this.f;g&&(4===m||8===m?g.Ud()||(d(Cp.pop(this.tileSize),null),l=!1):(d(z),l=!1));if(l){var n=Ap.setTimeout(function(){h=new Sf(\"cle\",{message:[f.uid,1,[a,b,c]]});h.then(d,e)},500);k.cancel=function(){h?h.cancel():Ap.clearTimeout(n)}}return k};Br.prototype.requestInternal=Br.prototype.B;Br.prototype.o=function(){Br.j.o.call(this);new Sf(\"cle\",{message:[this.uid,3]})};function Jr(){if(Kr)throw new $c(Jr);}t(\"H.service.extension.customLocation.Table\",Jr);var Kr=!0;function Lr(a,b){var c;Kr=!1;var d=new Jr;Kr=!0;d.c=rc(x.JSON.parse(x.JSON.stringify(a)));a=a.columnNames;var e=oc();for(c=a.length;c--;)e[a[c]]=c;d.f=e;d.b=a.length;if(b){if(b.length%a.length)throw new D(Lr,1,\"Invalid number of cells\");}else b=[];d.a=b;return d}Jr.prototype.Md=function(){return this.c};Jr.prototype.getMeta=Jr.prototype.Md;Jr.prototype.Pd=function(){return this.a.length/this.b};\nJr.prototype.getRowCount=Jr.prototype.Pd;Jr.prototype.tc=function(a){return a<this.a.length/this.b?new Mr(this,a):B};Jr.prototype.getRow=Jr.prototype.tc;Jr.prototype.Um=function(){var a=this.a.length/this.b,b,c=new x.Array(a);for(b=0;b<a;b++)c[b]=new Mr(this,b);return c};Jr.prototype.getRows=Jr.prototype.Um;Jr.prototype.Hg=function(a){var b=this.b,c=this.a,d=c.length/this.b;if(!a||a.length%b)throw new D(this.Hg,0,\"Invalid number of cells\");this.a=c.concat(a);return d};Jr.prototype.addCells=Jr.prototype.Hg;\nJr.prototype.ol=function(){for(var a=this.b,b=this.a,c=this.a.length/this.b;a--;)b.push(z);return this.tc(c)};Jr.prototype.addRow=Jr.prototype.ol;Jr.prototype.Ta=function(){return this.c.columnNames};Jr.prototype.getColumnNames=Jr.prototype.Ta;Jr.prototype.Be=function(a){return this.f[a]===B?B:new Nr(this,a)};Jr.prototype.getColumn=Jr.prototype.Be;Jr.prototype.ua=function(a,b){return this.a[a*this.b+this.f[b]]};Jr.prototype.getCell=Jr.prototype.ua;\nJr.prototype.Gc=function(a,b,c){b=this.f[b];if(a>=this.a.length/this.b)throw new D(this.Gc,0,\"Row index out of bounds\");if(b===B)throw new D(this.Gc,0,\"Column unknown\");this.a[a*this.b+b]=c};Jr.prototype.setCell=Jr.prototype.Gc;\nJr.prototype.concat=function(a){var b=arguments.length,c,d=\"\"+this.Ta(),e=this.a?this.a.slice():[];for(c=0;c<b;c++){var f=arguments[c];if(!(f instanceof Jr))throw new D(this.concat,c);if(\"\"+f.Ta()!==d)throw new D(this.concat,c,\"Incompatible columns!\");f.a&&(e=e.concat(f.a))}return Lr(this.c,e)};Jr.prototype.concat=Jr.prototype.concat;var Or=/(\\n|\\t|\\r|\")/;\nJr.prototype.Gi=function(a,b){var c,d=this.b,e=this.Ta(),f=[],g=[],h=this.a,k=-1;for(c=0;c<d;c++)if(!a||a.test(e[c]))\"WKT\"===e[c]&&(k=f.length),f.push(c);if(!(a=f.length))throw new D(this.Gi,1,\"No columns filtered\");Pr(this,g,e,0,d,f,a,k);if(b){var l=b.length;for(c=0;c<l;c++)g.push(\"\\n\"),e=b[c],Pr(this,g,h,e,d,f,a,k)}else for(l=this.Pd(),e=0;e<l;e++)g.push(\"\\n\"),Pr(this,g,h,e,d,f,a,k);return g.join(\"\")};\nfunction Pr(a,b,c,d,e,f,g,h){var k;for(k=0;k<g;k++){k&&b.push(\"\\t\");var l=c[d*e+f[k]];if(k!==h){if(l!==z){l=String(l);if(Or.test(l))throw new D(a.Gi,0,'Invalid character (\\\\n, \\\\r, \\\\t, or \") in row '+d+\" column \"+a.c.columnNames[f[k]]);b.push(l)}}else b.push(l)}}function Nr(a,b){this.b=a;this.a=b}Jr.Column=Nr;Nr.prototype.ua=function(a){return this.b.ua(a,this.a)};Nr.prototype.getCell=Nr.prototype.ua;Nr.prototype.Gc=function(a,b){this.b.Gc(a,this.a,b)};Nr.prototype.setCell=Nr.prototype.Gc;\nfunction Mr(a,b){this.a=a;this.Nh=b}Jr.Row=Mr;Mr.prototype.Ta=function(){return this.a.Ta()};Mr.prototype.getColumnNames=Mr.prototype.Ta;Mr.prototype.ua=function(a){return this.a.ua(this.Nh,a)};Mr.prototype.getCell=Mr.prototype.ua;Mr.prototype.Gc=function(a,b){this.a.Gc(this.Nh,a,b)};Mr.prototype.setCell=Mr.prototype.Gc;Mr.prototype.md=function(){return this.a};Mr.prototype.getTable=Mr.prototype.md;function Qr(a){if(a===B)a=\"\\t\";else if(!/^[^\"\\r\\n]$/.test(a))throw new D(Qr,0);this.b=String(a).charCodeAt(0);this.Oh=A(this.Oh,this);this.C=Rr}var Rr=0;p=Qr.prototype;p.getState=function(){return this.C};function Sr(a,b,c){var d=a.C;if(d!==b)throw 1===d&&(a.C=Rr),new $c(c,\"Requires state: \"+[\"READY\",\"PARSE\",\"PAUSE\"][b]+\" but found \"+[\"READY\",\"PARSE\",\"PAUSE\"][d]);}p.abort=function(){Sr(this,2,Qr.prototype.abort);this.C=Rr};\np.Oh=function(a){this.C=Rr;throw new D(Qr.prototype.parse,0,\"Malformed DSV at row \"+this.a.l+\" column \"+this.a.b+\": \"+a);};function Tr(a,b){var c=[];a.parse(b,function(d,e,f){1>d&&(c[e]=f);return 0<d});a.C=Rr;return c}p.parse=function(a,b,c){Sr(this,Rr,Qr.prototype.parse);a=a.trim();this.a=new Ur(a,this.b,this.Oh);this.c=b;this.kk=c||gf;this.C=2;this.Ph()};p.kk=gf;\np.Ph=function(){var a=this.a,b=[];Sr(this,2,Qr.prototype.Ph);this.C=1;do{if(!a.g){this.C=Rr;break}if(e>a.b){if(void 0!==c&&c!==e){this.a.a(\"The number of columns must be the same for all rows\");return}var c=e}var d=a.l;var e=a.b;var f=a.tf;var g=this.kk(d,e,a);if(a.tf>f)for(;-1!==a.next(););else{for(;-1!==(f=a.next());)b.push(f);g=String.fromCharCode.apply(z,b);b.length=0}Vr(a);this.c(d,e,g)&&(this.C=a.g?2:Rr)}while(1===this.C);2!=this.C&&void 0!==c&&0<e&&c!==e&&this.a.a(\"The number of columns must be the same for all rows\")};\nfunction Ur(a,b,c){this.c=new qo(a);this.s=b;this.g=!0;this.tf=this.l=this.b=0;Vr(this);this.a=c;this.f=[];this.i=!1}p=Ur.prototype;p.tf=0;function Vr(a){var b=a.c.Pb();a.m=!1;(a.U=34===b)&&a.c.next()}function Wr(a,b){var c=a.c;a.m=!0;switch(b){case a.s:a.b++;break;case 13:c.next(),10!==c.Pb()&&a.a(\"CR without LF\");case 10:a.b=0;a.l++;break;case -1:a.g=!1;break;default:a.a(\"End of field expected\")}c.next();return-1}\np.Pb=function(){if(this.m)var a=-1;else{var b=this.c;a=b.Pb();if(this.U)switch(a){case 34:b.next();a=b.Pb();34!==a&&(a=Wr(this,a));break;case -1:this.a(\"Closing quotation mark expected\")}else switch(a){case 34:this.a(\"Unexpected quotation mark\");case this.s:case 13:case 10:case -1:a=Wr(this,a)}}return a};p.ge=function(){this.i=!0;this.f=[]};p.Gd=function(){var a=this.f.slice();this.i=!1;this.f=[];return a};p.next=function(){var a=this.Pb();-1!==a&&this.c.next();this.i&&this.f.push(a);this.tf++;return a};function Xr(a,b,c,d){d=d||{};if(!b)throw new D(Xr,1,\"has to be a function\");if(!c)throw new D(Xr,2,\"has to be a function\");this.s=b;this.u=c;this.a=[];this.g={};this.f=[];this.b={};this.i={};this.l={};this.m={};this.U=d.duration||100;this.c=A(this.c,this);a=a.split(\"Meta:\\t\").slice(1);for(b=0;b<a.length;b++){d=a[b].split(\"\\n\");c=d[0].split(\"\\t\")[0];d=d.slice(1).join(\"\\n\");this.b[c]=new Qr;this.g[c]=Tr(this.b[c],d);var e={layerId:c,columnNames:this.g[c]};this.f.push(c);this.m[c]=Lr(e);this.i[c]=Lk();\nYr(this,d,c);this.c(c)}}function Yr(a,b,c){var d=[],e=a.g[c].length-1,f=a.m[c];try{a.b[c].parse(b,function(g,h,k){var l=!1;0<g&&(d[h]=k,h===e&&(a.a.push(f.tc(f.Hg(d))),Lk()-a.i[c]>a.U&&(l=!0)));return l},function(g,h,k){if(0<g&&h===e)return Wn(k)})}catch(g){a.u(g)}}Xr.prototype.cancel=function(){for(var a in this.l)x.clearTimeout(this.l[a])};Xr.prototype.cancel=Xr.prototype.cancel;\nXr.prototype.c=function(a){var b=this,c,d;this.l[a]=x.setTimeout(function(){if(2===b.b[a].getState())b.i[a]=Lk(),b.s(b.a,!1),b.a=[],b.b[a].Ph(),b.c(a);else{c=!0;for(d=0;d<b.f.length;d++)if(b.b[b.f[d]].getState()!==Rr){c=!1;break}c&&(0<b.a.length&&b.s(b.a,!0),b.a=[])}},0)};function Fr(a){Fr.j.constructor.call(this,Fr,a);zp(Fr)}u(Fr,Op);t(\"H.service.extension.customLocation.Service\",Fr);Fr.prototype.Aa=function(){return{subDomain:\"fleet.ls\",path:\"2\"}};Fr.CONFIG_KEY=\"customLocation\";Fr.prototype.nc=function(a,b){var c=b&&b.resultType;a=new Br(this,a,b);var d;1===c||2===c?d=new Sn(a):d=new sl(a);return d};Fr.prototype.createTileLayer=Fr.prototype.nc;\nfunction Zr(a,b,c,d){var e;a=a===$r?\"changes\":\"file\";var f=b[a],g=Cc(f),h=!g&&C(f,Blob);if(!g&&!h)throw new D(d,0,\"Invalid \"+a+\" parameter\");if(as)h?e=f:e=pf(f,\"text/plain\"),d=new x.FormData,d.append(a,e,e.name||a+\".wkt\"),c.method=\"POST\",c.data=d,delete b[a];else if(h)throw new D(d,0,\"Sending Blob data is not supported by the browser\");}var as=x.FormData&&!!x.FormData.prototype.append;Fr.prototype.request=function(a,b,c,d,e){return bs(this,a,b,c,d,e)};Fr.prototype.request=Fr.prototype.request;\nfunction bs(a,b,c,d,e,f){var g=\"text/plain\",h=b===cs.LAYERS_UPLOAD||b===cs.LAYERS_MODIFY||b===cs.LAYERS_IMPORT,k=d,l={data:B,method:\"GET\",headers:a.g};if(!b)throw new D(a.request,0,b);if(!c)throw new D(a.request,1,c);cr(a.request,3,e,f);h&&(C(d,Object,a.request,2,\"Invalid request parameters\"),k=Wa(d),Zr(b,k,l,a.request));var m=a.v().clone().G(b+\".\"+c).I(k);c===ds.JSON&&(g=\"application/json\");a=new tf(g,m.toString(),je,l);a.then(function(n){var q=n.issues;q&&n.error_id&&n.response_code?f(Error(q[0].message)):\ne(n)},function(n){\"error\"===n.type||404===n.status?f(Error(n.statusText||\"Unable to load data\")):n.json().then(function(q){f(Error(\"[\"+q.issues[0].message+\"] \"+m+\" request failed\"))},function(){f(Error(\"[\"+n.statusText+\"] \"+m+\" request failed\"))})});return a}\nvar Gr=\"layers/list\",$r=\"layers/modify\",Ir=\"tiled/tile\",cs={LAYERS_DELETE:\"layers/delete\",LAYERS_GRANT:\"layers/access/grant\",LAYERS_LIST:Gr,LAYERS_MODIFY:$r,LAYERS_UPLOAD:\"layers/upload\",LAYERS_IMPORT:\"layers/import\",SEARCH_ALL:\"search/all\",SEARCH_BBOX:\"search/bbox\",SEARCH_CORRIDOR:\"search/corridor\",SEARCH_PROXIMITY:\"search/proximity\",SEARCH_QUADKEY:\"search/quadkey\",SEARCH_TILE:Ir};Fr.EntryPoint=cs;var Hr=\"json\",ds={TXT:\"txt\",JSON:Hr};Fr.EntryPointType=ds;\nFr.prototype.ob=function(a,b,c){var d=this;return this.request(\"search/all\",\"txt\",{filter:'WKT==\"\"',layer_id:a},function(e){var f=String(e).replace(/[\\r\\n]+$/g,\"\").split(\"\\t\");d.request(Gr,Hr,{layer_id:a,detail_level:\"all\"},function(g){g=g.layers[0];g.columnNames=f;b(Lr(g))},c)},c)};Fr.prototype.getLayer=Fr.prototype.ob;\nFr.prototype.Kj=function(a,b,c,d){function e(){return++g<f?h.request(\"layers/access/grant\",Hr,{layer_id:a,granted_app_id:b[g].grantedAppId,permissions:b[g].permissions.join(\",\")},e,d):h.ob(a,c,d)}var f=b&&b.length,g=-1,h=this;return e()};Fr.prototype.grantAccess=Fr.prototype.Kj;Fr.prototype.jj=function(a,b,c){return this.request(\"layers/delete\",Hr,{layer_ids:a},b,c)};Fr.prototype.deleteLayer=Fr.prototype.jj;\nFr.prototype.$b=function(a,b,c){function d(){setTimeout(function(){k.ob(g,function(q){setTimeout(e.bind(null,q),m)},function(){64E3>l?(l+=m,d()):c(x.Error(\"Timeout\"))})},m);m*=2}function e(q){var r=JSON.stringify(q.Ta()),v=a.grants;if(r!==JSON.stringify(h)){var w=\"Results into different column names on the backend: \"+r;setTimeout(function(){k.jj(g,function(){c(x.Error(w))},function(y){c(x.Error(w+\". \"+y.message))})},m)}else v&&v.length?k.Kj(g,v,b,c):b(q)}var f,g,h,k=this,l=0,m=1E3;var n=!a||!Cr(g=\na.layerId)&&(f=\"layerId\")||!Dr(h=a.columnNames)&&(f=\"columnNames\")?0:Da(b)?Da(c)?-1:2:1;if(0<=n)throw new D(k.$b,n,f||arguments[n]);return k.ob(g,function(){c(x.Error(\"Layer exists already\"))},function(){var q={layer_id:g,file:h.join(\"\\t\")},r=a.level,v=a.storage;r!==B&&(q.level=r);v!==B&&(q.storage=v);k.request(\"layers/upload\",Hr,q,d,c)})};Fr.prototype.createLayer=Fr.prototype.$b;\nfunction es(a,b,c,d,e){var f=[],g;a=a.request(b,Hr,c,function(h){h.geometries.length?(h=Er(h,c.layer_id),g=new Xr(h,d,e),f.push(g)):d(hf,!0)},e);f.push(a);return new vr(f)}Fr.prototype.Ub=function(a,b,c,d,e,f){if(!Bc(a))throw new D(this.Ub,0,\"has invalid type\");C(b,kg,this.Ub,1,\"has invalid type\");if(!Fc(c))throw new D(this.Ub,2,\"has invalid type\");cr(this.Ub,3,d,e);a={layer_ids:a.join(\",\"),proximity:b.lat+\",\"+b.lng+\",\"+c};f&&Ya(a,f);return es(this,\"search/proximity\",a,d,e)};\nFr.prototype.searchByProximity=Fr.prototype.Ub;Fr.prototype.Tb=function(a,b,c,d,e,f){var g=\"\";if(!Bc(a))throw new D(this.Tb,0,\"has invalid type\");if(!Cc(b)&&!C(b,L))throw new D(this.Tb,1,\"has invalid type\");if(!Fc(c))throw new D(this.Tb,2,\"has invalid type\");cr(this.Tb,3,d,e);a={layer_ids:a.join(\",\"),radius:c};if(Cc(b))a.route_id=b;else{var h=b.$;b=0;for(c=h.length;b<c;b+=3)g+=h[b]+\",\"+h[b+1],b<c-3&&(g+=\",\");a.corridor=g}f&&Ya(a,f);return es(this,\"search/corridor\",a,d,e)};\nFr.prototype.searchByCorridor=Fr.prototype.Tb;Fr.prototype.Fc=function(a,b,c,d,e){function f(k,l){l&&h--;c(k,!h)}var g=[],h;if(!Bc(a))throw new D(this.Fc,0,\"has invalid type\");C(b,K,this.Fc,1,\"has invalid type\");cr(this.Fc,2,c,d);b={bbox:b.c+\",\"+b.a+\";\"+b.f+\",\"+b.b};e&&Ya(b,e);a=b.layer_id?[b.layer_id]:a;e=0;for(h=a.length;e<h;e++)b.layer_id=a[e],g.push(es(this,\"search/bbox\",b,f,d));return new vr(g)};Fr.prototype.searchByBoundingBox=Fr.prototype.Fc;\nFr.prototype.li=function(a,b,c,d){var e,f=[];if(!Cc(a))throw new D(this.li,0,\"has invalid type\");cr(this.li,1,b,c);var g={layer_id:a};d&&Ya(g,d);d=this.request(\"search/all\",Hr,g,function(h){h.geometries.length?(h=Er(h,a),e=new Xr(h,b,c),f.push(e)):b(hf,!0)},c);f.push(d);return new vr(f)};Fr.prototype.searchAll=Fr.prototype.li;var fs={\"delete\":/^GEOMETRY_ID$/,append:/^(?!GEOMETRY_ID$)/};\nfunction gs(a,b,c,d,e,f){function g(){v++;d(this,v===q)}function h(Q){v++;e(Q,this,v===q)}var k=\"append\"!==b,l,m={},n=oc(),q=0,r=[],v=0;if(!Bc(c))throw new D(f,0,c);cr(f,1,d,e);for(l=c.length;l--;){var w=c[l];if(C(w,Mr)){var y=w.md().Md().layerId;var G=w.ua(\"GEOMETRY_ID\");if(k){if(G===z||\"\"===String(G))var I='GEOMETRY_ID must not be null or \"\"';m[G=y+\"_\"+G]&&(I=\"same GEOMETRY_ID for multiple rows\");m[G]=w}else G!==z&&\"\"!==String(G)&&(I='GEOMETRY_ID must be null or \"\"')}else I=\"Invalid type\";if(I)throw new D(f,\n0,\"- Invalid row at index \"+l+\", \"+I);G=n[y];G||(G=n[y]=[],q++);G.push(w)}for(y in n){G=n[y];c=[];for(l=G.length;l--;)c.push(G[l].Nh);r.push(a.request($r,Hr,{layer_id:y,action:b,changes:G[0].md().Gi(fs[b]||null,c)},A(g,G),A(h,G)))}return new vr(r)}Fr.prototype.$i=function(a,b,c){return gs(this,\"append\",a,b,c,this.$i)};Fr.prototype.appendRows=Fr.prototype.$i;Fr.prototype.il=function(a,b,c){return gs(this,\"update\",a,b,c,this.il)};Fr.prototype.updateRows=Fr.prototype.il;\nFr.prototype.kj=function(a,b,c){return gs(this,\"delete\",a,b,c,this.kj)};Fr.prototype.deleteRows=Fr.prototype.kj;X.prototype.Yl=function(a){return this.Ma(Fr,a)};X.prototype.getCustomLocationService=X.prototype.Yl;function hs(a){jq.j.constructor.call(this,hs,a);zp(hs)}u(hs,Op);t(\"H.service.extension.customRoute.Service\",hs);hs.prototype.Aa=function(){return{subDomain:\"s.fleet.ls\",path:\"2\"}};hs.CONFIG_KEY=\"customRoute\";hs.prototype.a=function(a){return Error(a.issues&&a.issues.length?a.issues.map(function(b){return b.message}).join(\". \"):a)};hs.prototype.Cd=function(a,b,c){cr(this.Cd,1,b,c);a=this.v().clone().G(\"calculateroute.json\").I(a);return this.B(a,b,c)};hs.prototype.calculateRoute=hs.prototype.Cd;\nX.prototype.Zl=function(a){return this.Ma(hs,a)};X.prototype.getCustomRoutingService=X.prototype.Zl;function is(a,b,c){c=c||{};var d=+c.min,e=+c.max;c.min=d?ae(d,1,17):1;c.max=e?ae(e,1,17):17;is.j.constructor.call(this,c);C(a,js,is,0);C(b,Wh,is,1);this.f=a;b.a&&b.a(\"OMV\");this.Qa(b,!0);this.i=xp(this)}u(is,S);t(\"H.service.trafficVectorTile.Provider\",is);is.prototype.Sb=ff;is.prototype.providesOMV=is.prototype.Sb;is.prototype.ub=function(a){return this.i.test(a)};is.prototype.cacheFilter=is.prototype.ub;is.prototype.uc=function(a,b,c){return ks(this.f,a,b,c).toString()};\nis.prototype.getTileKey=is.prototype.uc;is.prototype.nb=function(){return this.m};is.prototype.getCache=is.prototype.nb;is.prototype.MAX_STORE_TIME=2592E6;is.prototype.l=function(){return od()};is.prototype.c=function(){return od()?nd():is.j.c.call(this)};is.prototype.s=function(){return this.f};is.prototype.B=function(a,b,c,d,e){return this.f.Ha(a,b,c,d,e)};is.prototype.requestInternal=is.prototype.B;is.prototype.gb=function(a){a.a&&a.a(\"OMV\");this.Qa(a)};is.prototype.setStyle=is.prototype.gb;\nis.prototype.V=function(){return is.j.Ya.apply(this)};is.prototype.getStyle=is.prototype.V;is.prototype.m=new Rk(256);is.prototype.ba=function(){return null};is.prototype.getCopyrights=is.prototype.ba;function js(a){js.j.constructor.call(this,js,a);this.b=(a||jf).layer||\"traffic\"}u(js,Op);t(\"H.service.trafficVectorTile.Service\",js);js.prototype.Aa=function(){return{subDomain:\"traffic.vector\",path:\"v2\"}};js.CONFIG_KEY=\"trafficVectorTile\";js.prototype.$b=function(a,b,c){b=b||{};var d={min:0,max:22};Ea(c)&&yp(d,c);return new sl(new is(this,a,b),d)};js.prototype.createLayer=js.prototype.$b;\njs.prototype.Ha=function(a,b,c,d,e){return this.B(ks(this,a,b,c),function(f){return f.arrayBuffer().then(d,e)},e,\"arraybuffer\")};function ks(a,b,c,d){return a.v().clone().G(\"traffictiles/\"+a.b+\"/mc/\"+d+\"/\"+b+\"/\"+c+\"/omv\")}js.prototype.f=function(a){return Ao()+\"/\"+a};js.prototype.vm=function(){return this.b};js.prototype.getLayerName=js.prototype.vm;X.prototype.oh=function(a){return this.Ma(js,a)};X.prototype.getTrafficVectorTileService=X.prototype.oh;function ls(a){ls.j.constructor.call(this,ls,a)}u(ls,Op);t(\"H.service.SearchService\",ls);ls.CONFIG_KEY=\"search\";ls.prototype.Aa=function(){return{subDomain:\"search\",path:\"v1\"}};ls.prototype.a=function(a){a=[a.title,a.action,a.cause].filter(function(b){return b});return Error(a.join(\". \"))};ls.prototype.Zg=function(a,b,c){a=this.v().clone().Ba(\"geocode\").G(\"geocode\").I(a);return this.B(a,b,c)};ls.prototype.geocode=ls.prototype.Zg;\nls.prototype.ii=function(a,b,c){a=this.v().clone().Ba(\"revgeocode\").G(\"revgeocode\").I(a);return this.B(a,b,c)};ls.prototype.reverseGeocode=ls.prototype.ii;ls.prototype.sl=function(a,b,c){a=this.v().clone().Ba(\"autosuggest\").G(\"autosuggest\").I(a);return this.B(a,b,c)};ls.prototype.autosuggest=ls.prototype.sl;ls.prototype.zl=function(a,b,c){a=this.v().clone().Ba(\"discover\").G(\"discover\").I(a);return this.B(a,b,c)};ls.prototype.discover=ls.prototype.zl;\nls.prototype.Gn=function(a,b,c){a=this.v().clone().Ba(\"lookup\").G(\"lookup\").I(a);return this.B(a,b,c)};ls.prototype.lookup=ls.prototype.Gn;ls.prototype.ul=function(a,b,c){a=this.v().clone().Ba(\"browse\").G(\"browse\").I(a);return this.B(a,b,c)};ls.prototype.browse=ls.prototype.ul;X.prototype.Wm=function(a){return this.Ma(ls,a)};X.prototype.getSearchService=X.prototype.Wm;function ms(a){this.c=!!a.toBypassToken;if(!this.c&&!a.token)throw new D(ms,0,'\"token\" must be specified');zp(ms,\"Use HERE IML service instead.\");ms.j.constructor.call(this,ms,a);this.l=a.token;this.f={};this.b={}}u(ms,Op);t(\"H.service.xyz.Service\",ms);ms.prototype.Aa=function(){return{host:\"xyz.api.here.com\",path:\"hub/spaces\"}};ms.prototype.a=function(a){return Error(a.errorMessage||a.message)};\nms.prototype.jh=function(a,b,c){zc(a,\"String\",this.jh,0,'\"projectId\" must be a string');ns(this.jh,1,b,c);a=os(this.v().clone().wd(\"project-api/projects/\"+a));return this.B(a,b,c)};ms.prototype.getProject=ms.prototype.jh;ms.prototype.Gj=function(a,b,c){ns(this.Gj,0,a,b);c=ps(this,this.v().clone().I(c||{}));return this.B(c,a,b)};ms.prototype.getSpaces=ms.prototype.Gj;\nms.prototype.Kf=function(a,b,c){zc(a,\"String\",this.Kf,0,'\"spaceId\" must be a string');ns(this.Kf,1,b,c);a=ps(this,this.v().clone().G(a));return this.B(a,b,c)};ms.prototype.getSpace=ms.prototype.Kf;ms.prototype.Qd=function(a,b,c){zc(a,\"String\",this.Qd,0,'\"spaceId\" must be a string');ns(this.Qd,1,b,c);a=ps(this,this.v().clone().G(a+\"/statistics\"));return this.B(a,b,c)};ms.prototype.getStatistics=ms.prototype.Qd;\nms.prototype.Ff=function(a,b,c,d,e,f,g){a=ps(this,this.v().clone().G(d+\"/tile/web/\"+c+\"_\"+a+\"_\"+b+\".mvtf\").I(Object.assign({clip:!0},g)));return this.B(a,function(h){return h.arrayBuffer().then(e)},f,\"arraybuffer\")};ms.prototype.search=function(a,b,c,d){zc(a,\"String\",this.search,0,'\"spaceId\" must be a string');ns(this.search,1,b,c);a=ps(this,this.v().clone().G(a+\"/search\").I(d||{}));return this.B(a,b,c)};ms.prototype.search=ms.prototype.search;\nms.prototype.Sc=function(a,b,c,d){zc(a,\"String\",this.Sc,0,'\"spaceId\" must be a string');if(!Ea(b))throw new D(this.Sc,1,'\"params\" must be an object');ns(this.Sc,2,c,d);a=ps(this,this.v().clone().G(a+\"/features\").I(b));return this.B(a,c,d)};ms.prototype.getFeaturesById=ms.prototype.Sc;\nms.prototype.Jd=function(a,b,c,d){zc(a,\"String\",this.Jd,0,'\"spaceId\" must be a string');if(!Ea(b))throw new D(this.Sc,1,'\"params\" must be an object');ns(this.Jd,2,c,d);a=ps(this,this.v().clone().G(a+\"/bbox\").I(b));return this.B(a,c,d)};ms.prototype.getFeaturesByBoundingBox=ms.prototype.Jd;ms.prototype.ba=function(a){var b=this.f[a];if(b)return b;this.b[a]||qs(this,a);return null};\nms.prototype.$c=function(a,b,c,d,e){zc(a,\"String\",this.$c,0,'\"spaceId\" must be a string');if(!Ea(b))throw new D(this.$c,1,'\"geojsonObject\" must be an object');ns(this.$c,2,c,d);if(e&&!Ea(e))throw new D(this.$c,4,'\"opt_params\" must be an object');return rs(this,a,c,d,\"PUT\",b,e)};ms.prototype.putFeatures=ms.prototype.$c;\nms.prototype.Yc=function(a,b,c,d,e){zc(a,\"String\",this.Yc,0,'\"spaceId\" must be a string');if(!Ea(b))throw new D(this.Yc,1,'\"featureCollection\" must be an object');ns(this.Yc,2,c,d);if(e&&!Ea(e))throw new D(this.Yc,4,'\"opt_params\" must be an object');return rs(this,a,c,d,\"POST\",b,e)};ms.prototype.postFeatures=ms.prototype.Yc;\nms.prototype.hd=function(a,b,c,d){zc(a,\"String\",this.hd,0,'\"spaceId\" must be a string');if(!Ea(b))throw new D(this.hd,1,'\"params\" must be an object');ns(this.hd,2,c,d);return rs(this,a,c,d,\"DELETE\",B,b)};ms.prototype.deleteFeatures=ms.prototype.hd;\nfunction rs(a,b,c,d,e,f,g){var h=Object.assign(a.c?{}:{authorization:\"Bearer \"+a.l},{\"Content-Type\":\"application/geo+json\"},a.g);e={method:e,headers:h};f&&(e.data=JSON.stringify(f));b=os(a.v().clone().G(b+\"/features\").I(g||{}));f=new tf(\"application/json\",b.toString(),je,e);f.then(c,Qp(a,b,d));return f}function qs(a,b){a.b[b]=ss;a.Kf(b,function(c){a.b[b]=ts;a.f[b]=c.copyright;a.dispatchEvent(\"copyrightupdate\")},function(c){a.b[b]=us;throw c;})}\nfunction ps(a,b){return a.c?b:os(b).I({access_token:a.l})}function os(a){var b=Object.assign({},a.getQuery());delete b.apikey;return a.bf(b)}ms.CONFIG_KEY=\"xyz\";var ss=1,ts=2,us=-1;function ns(a,b,c,d){if(!Da(c))throw new D(a,b,'\"onResult\" must be a function');if(!Da(d))throw new D(a,b+1,'\"onError\" must be a function');}X.prototype.jn=function(a){return this.Ma(ms,a)};X.prototype.getXYZService=X.prototype.jn;function vs(a,b,c){var d;vs.j.constructor.call(this,c?{min:c.min,max:c.max,engineType:c.engineType}:void 0);C(a,ms,vs,0);if(!Cc(b))throw new D(vs,1,'\"spaceId\" must be a string');this.m=a;this.f=b;this.i={};if(c&&([\"limit\",\"simplificationLevel\",\"tags\"].forEach(function(e){e in c&&(this.i[e]=c[e])},this),a=c.parameters))for(d in a)this.i[d]=a[d];this.Qa(this.b===kk.WEBGL?new ti({sources:{xyz:{type:\"MVT\"}},layers:{xyz:{data:{source:\"xyz\",layer:this.f},points:{filter:{$geometry:\"point\"},draw:{points:{collide:!1,\norder:200,color:\"#92CF48\",size:[[10,\"8px\"],[14,\"12px\"],[18,\"16px\"]]}}},polygons:{filter:{$geometry:\"polygon\"},draw:{polygons:{order:201,color:\"#E39E3C\"},lines:{order:202,color:\"#755DA5\",width:\"1px\"}}},lines:{filter:{$geometry:\"line\"},draw:{lines:{order:203,color:\"#000000\",width:\"2px\",join:\"round\",cap:\"round\"}}}}}}):new H.map.render.harp.Style({styles:[{layer:this.f,when:[\"==\",[\"geometry-type\"],\"Point\"],technique:\"circles\",renderOrder:200,color:\"#92CF48\",size:[\"interpolate\",[\"linear\"],[\"zoom\"],10,\n8,14,12,18,16]},{layer:this.f,when:[\"==\",[\"geometry-type\"],\"Polygon\"],technique:\"fill\",color:\"#E39E3C\",renderOrder:201},{layer:this.f,when:[\"==\",[\"geometry-type\"],\"Polygon\"],technique:\"solid-line\",color:\"#755DA5\",lineWidth:\"1px\",renderOrder:202},{layer:this.f,when:[\"==\",[\"geometry-type\"],\"LineString\"],technique:\"solid-line\",color:\"#000000\",lineWidth:\"2px\",renderOrder:203}]}))}u(vs,S);t(\"H.service.xyz.Provider\",vs);vs.prototype.B=function(a,b,c,d,e){return this.m.Ff(a,b,c,this.f,d,e,this.i)};\nvs.prototype.requestInternal=vs.prototype.B;vs.prototype.ba=function(){return this.m.ba(this.f)};vs.prototype.getCopyrights=vs.prototype.ba;vs.prototype.Sb=ff;vs.prototype.providesOMV=vs.prototype.Sb;vs.prototype.V=function(){return this.Ya()};vs.prototype.getStyle=vs.prototype.V;vs.prototype.gb=function(a){C(a,ti)&&a.a(\"MVT\");this.Qa(a)};vs.prototype.setStyle=vs.prototype.gb;t(\"H.service.buildInfo\",function(){return Hf(\"H-service\",\"1.46.0\",\"55018bf\",{region:\"row\"})});\n");